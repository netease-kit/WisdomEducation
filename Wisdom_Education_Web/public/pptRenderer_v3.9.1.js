!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PgReader=t():e.PgReader=t()}(self,(function(){return function(){var e={559:function(e,t,a){"use strict";e.exports=a(335)},786:function(e,t,a){"use strict";var r=a(266),n=a(608),i=a(159),o=a(568),s=a(943),c=a(201),l=a(745),h=a(979);e.exports=function(e){return new Promise((function(t,a){var u=e.data,f=e.headers;r.isFormData(u)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(p+":"+v)}var m=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};n(t,a,i),d=null}},d.onabort=function(){d&&(a(h("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){a(h("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),a(h(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||l(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),a(e),d=null)})),u||(u=null),d.send(u)}))}},335:function(e,t,a){"use strict";var r=a(266),n=a(345),i=a(929),o=a(650);function s(e){var t=new i(e),a=n(i.prototype.request,t);return r.extend(a,i.prototype,t),r.extend(a,t),a}var c=s(a(46));c.Axios=i,c.create=function(e){return s(o(c.defaults,e))},c.Cancel=a(760),c.CancelToken=a(510),c.isCancel=a(825),c.all=function(e){return Promise.all(e)},c.spread=a(346),c.isAxiosError=a(839),e.exports=c,e.exports.default=c},760:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},510:function(e,t,a){"use strict";var r=a(760);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var a=this;e((function(e){a.reason||(a.reason=new r(e),t(a.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},825:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},929:function(e,t,a){"use strict";var r=a(266),n=a(568),i=a(252),o=a(29),s=a(650);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],a=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)a=a.then(t.shift(),t.shift());return a},c.prototype.getUri=function(e){return e=s(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,a){return this.request(s(a||{},{method:e,url:t,data:(a||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,a,r){return this.request(s(r||{},{method:e,url:t,data:a}))}})),e.exports=c},252:function(e,t,a){"use strict";var r=a(266);function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},943:function(e,t,a){"use strict";var r=a(406),n=a(27);e.exports=function(e,t){return e&&!r(t)?n(e,t):t}},979:function(e,t,a){"use strict";var r=a(50);e.exports=function(e,t,a,n,i){var o=new Error(e);return r(o,t,a,n,i)}},29:function(e,t,a){"use strict";var r=a(266),n=a(661),i=a(825),o=a(46);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=n(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},50:function(e){"use strict";e.exports=function(e,t,a,r,n){return e.config=t,a&&(e.code=a),e.request=r,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},650:function(e,t,a){"use strict";var r=a(266);e.exports=function(e,t){t=t||{};var a={},n=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(a[n]=c(void 0,e[n])):a[n]=c(e[n],t[n])}r.forEach(n,(function(e){r.isUndefined(t[e])||(a[e]=c(void 0,t[e]))})),r.forEach(i,l),r.forEach(o,(function(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(a[n]=c(void 0,e[n])):a[n]=c(void 0,t[n])})),r.forEach(s,(function(r){r in t?a[r]=c(e[r],t[r]):r in e&&(a[r]=c(void 0,e[r]))}));var h=n.concat(i).concat(o).concat(s),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===h.indexOf(e)}));return r.forEach(u,l),a}},608:function(e,t,a){"use strict";var r=a(979);e.exports=function(e,t,a){var n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(r("Request failed with status code "+a.status,a.config,null,a.request,a)):e(a)}},661:function(e,t,a){"use strict";var r=a(266);e.exports=function(e,t,a){return r.forEach(a,(function(a){e=a(e,t)})),e}},46:function(e,t,a){"use strict";var r=a(266),n=a(490),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=a(786)),s),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(i)})),e.exports=c},345:function(e){"use strict";e.exports=function(e,t){return function(){for(var a=new Array(arguments.length),r=0;r<a.length;r++)a[r]=arguments[r];return e.apply(t,a)}}},568:function(e,t,a){"use strict";var r=a(266);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,a){if(!t)return e;var i;if(a)i=a(t);else if(r.isURLSearchParams(t))i=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},27:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},159:function(e,t,a){"use strict";var r=a(266);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,a,n,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(a)&&s.push("expires="+new Date(a).toGMTString()),r.isString(n)&&s.push("path="+n),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},406:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},839:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":t(e))&&!0===e.isAxiosError}},745:function(e,t,a){"use strict";var r=a(266);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function n(e){var r=e;return t&&(a.setAttribute("href",r),r=a.href),a.setAttribute("href",r),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return e=n(window.location.href),function(t){var a=r.isString(t)?n(t):t;return a.protocol===e.protocol&&a.host===e.host}}():function(){return!0}},490:function(e,t,a){"use strict";var r=a(266);e.exports=function(e,t){r.forEach(e,(function(a,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=a,delete e[r])}))}},201:function(e,t,a){"use strict";var r=a(266),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,a,i,o={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),a=r.trim(e.substr(i+1)),t){if(o[t]&&n.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([a]):o[t]?o[t]+", "+a:a}})),o):o}},346:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},266:function(e,t,a){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(345),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function c(e){return null!==e&&"object"===(void 0===e?"undefined":r(e))}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function h(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!==(void 0===e?"undefined":r(e))&&(e=[e]),o(e))for(var a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:h,isStream:function(e){return c(e)&&h(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function a(a,r){l(t[r])&&l(a)?t[r]=e(t[r],a):l(a)?t[r]=e({},a):o(a)?t[r]=a.slice():t[r]=a}for(var r=0,n=arguments.length;r<n;r++)u(arguments[r],a);return t},extend:function(e,t,a){return u(t,(function(t,r){e[r]=a&&"function"==typeof t?n(t,a):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},276:function(e,t,a){"use strict";var r=function(){return this}()||Function("return this")(),n=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=n&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=a(366),n)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},366:function(e,t,a){"use strict";e=a.nmd(e);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){var a,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",h="object"===r(e),u=t.regeneratorRuntime;if(u)h&&(e.exports=u);else{(u=t.regeneratorRuntime=h?e.exports:{}).wrap=k;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",m={},y={};y[s]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(N([])));b&&b!==n&&i.call(b,s)&&(y=b);var x=I.prototype=T.prototype=Object.create(y);w.prototype=x.constructor=I,I.constructor=w,I[l]=w.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(x),e},u.awrap=function(e){return{__await:e}},M(S.prototype),S.prototype[c]=function(){return this},u.AsyncIterator=S,u.async=function(e,t,a,r){var n=new S(k(e,t,a,r));return u.isGeneratorFunction(t)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},M(x),x[l]="Generator",x[s]=function(){return this},x.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},u.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=a)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=a),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),R(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;R(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=a),m}}}function k(e,t,a,r){var n=t&&t.prototype instanceof T?t:T,i=Object.create(n.prototype),o=new O(r||[]);return i._invoke=function(e,t,a){var r=f;return function(n,i){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===n)throw i;return j()}for(a.method=n,a.arg=i;;){var o=a.delegate;if(o){var s=A(o,a);if(s){if(s===m)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===f)throw r=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=p;var c=P(e,t,a);if("normal"===c.type){if(r=a.done?v:d,c.arg===m)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r=v,a.method="throw",a.arg=c.arg)}}}(e,a,o),i}function P(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}function T(){}function w(){}function I(){}function M(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){function t(a,n,o,s){var c=P(e[a],e,n);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===(void 0===h?"undefined":r(h))&&i.call(h,"__await")?Promise.resolve(h.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):Promise.resolve(h).then((function(e){l.value=e,o(l)}),s)}s(c.arg)}var a;this._invoke=function(e,r){function n(){return new Promise((function(a,n){t(e,r,a,n)}))}return a=a?a.then(n,n):n()}}function A(e,t){var r=e.iterator[t.method];if(r===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=a,A(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=P(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=a),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=a,t.done=!0,t};return n.next=n}}return{next:j}}function j(){return{value:a,done:!0}}}(function(){return this}()||Function("return this")())},754:function(e,t,a){"use strict";e.exports=a(276)},75:function(e){"use strict";var t=Object.prototype.hasOwnProperty,a="~";function r(){}function n(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function i(e,t,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new n(r,i||e,o),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),s.prototype.eventNames=function(){var e,r,n=[];if(0===this._eventsCount)return n;for(r in e=this._events)t.call(e,r)&&n.push(a?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=new Array(i);n<i;n++)o[n]=r[n].fn;return o},s.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,n,i,o){var s=a?a+e:e;if(!this._events[s])return!1;var c,l,h=this._events[s],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,r),!0;case 4:return h.fn.call(h.context,t,r,n),!0;case 5:return h.fn.call(h.context,t,r,n,i),!0;case 6:return h.fn.call(h.context,t,r,n,i,o),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];h.fn.apply(h.context,c)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(e,h[l].fn,void 0,!0),u){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,t);break;case 3:h[l].fn.call(h[l].context,t,r);break;case 4:h[l].fn.call(h[l].context,t,r,n);break;default:if(!c)for(f=1,c=new Array(u-1);f<u;f++)c[f-1]=arguments[f];h[l].fn.apply(h[l].context,c)}}return!0},s.prototype.on=function(e,t,a){return i(this,e,t,a,!1)},s.prototype.once=function(e,t,a){return i(this,e,t,a,!0)},s.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||o(this,i);else{for(var c=0,l=[],h=s.length;c<h;c++)(s[c].fn!==t||n&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[i]=1===l.length?l[0]:l:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},254:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=t.Point=function(){function e(t,a){r(this,e),this.x=t,this.y=a}return a(e,[{key:"angleTo",value:function(e){return Math.atan2(e.y-this.y,e.x-this.x)}},{key:"applyTransform",value:function(e){var t=this.x*e[0]+this.y*e[2]+e[4],a=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=a}}]),e}(),i=t.BoundingBox=function(){function e(t,a,n,i){r(this,e),this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.addPoint(t,a),this.addPoint(n,i)}return a(e,[{key:"x",value:function(){return this.x1}},{key:"y",value:function(){return this.y1}},{key:"width",value:function(){return this.x2-this.x1}},{key:"height",value:function(){return this.y2-this.y1}},{key:"addPoint",value:function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}},{key:"addX",value:function(e){this.addPoint(e,null)}},{key:"addY",value:function(e){this.addPoint(null,e)}},{key:"addBoundingBox",value:function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)}},{key:"addQuadraticCurve",value:function(e,t,a,r,n,i){var o=e+2/3*(a-e),s=t+2/3*(r-t),c=o+1/3*(n-e),l=s+1/3*(i-t);this.addBezierCurve(e,t,o,c,s,l,n,i)}},{key:"addBezierCurve",value:function(e,t,a,r,n,i,o,s){var c=[e,t],l=[a,r],h=[n,i],u=[o,s];this.addPoint(c[0],c[1]),this.addPoint(u[0],u[1]);for(var f=0;f<=1;f++){var d=function(e){return Math.pow(1-e,3)*c[f]+3*Math.pow(1-e,2)*e*l[f]+3*(1-e)*Math.pow(e,2)*h[f]+Math.pow(e,3)*u[f]},p=6*c[f]-12*l[f]+6*h[f],v=-3*c[f]+9*l[f]-9*h[f]+3*u[f],m=3*l[f]-3*c[f];if(0!=v){var y=Math.pow(p,2)-4*m*v;if(!(y<0)){var g=(-p+Math.sqrt(y))/(2*v);0<g&&g<1&&(0==f&&this.addX(d(g)),1==f&&this.addY(d(g)));var b=(-p-Math.sqrt(y))/(2*v);0<b&&b<1&&(0==f&&this.addX(d(b)),1==f&&this.addY(d(b)))}}else{if(0==p)continue;var x=-m/p;0<x&&x<1&&(0==f&&this.addX(d(x)),1==f&&this.addY(d(x)))}}}},{key:"isPointInBox",value:function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2}}]),e}(),o=t.PathParser=function(){function e(){r(this,e)}return a(e,[{key:"reset",value:function(e){this.i=-1,this.command="",this.previousCommand="",this.start=new n(0,0),this.control=new n(0,0),this.current=new n(0,0),this.points=[],this.angles=[],this.tokens=e.split(" ")}},{key:"isEnd",value:function(){return this.i>=this.tokens.length-1}},{key:"isCommandOrEnd",value:function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)}},{key:"isRelativeCommand",value:function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1}},{key:"getToken",value:function(){return this.i++,this.tokens[this.i]}},{key:"getScalar",value:function(){return parseFloat(this.getToken())}},{key:"nextCommand",value:function(){this.previousCommand=this.command,this.command=this.getToken()}},{key:"getPoint",value:function(){var e=new n(this.getScalar(),this.getScalar());return this.makeAbsolute(e)}},{key:"getAsControlPoint",value:function(){var e=this.getPoint();return this.control=e,e}},{key:"getAsCurrentPoint",value:function(){var e=this.getPoint();return this.current=e,e}},{key:"getReflectedControlPoint",value:function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new n(2*this.current.x-this.control.x,2*this.current.y-this.control.y)}},{key:"makeAbsolute",value:function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e}},{key:"addMarker",value:function(e,t,a){null!=a&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(a)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))}},{key:"addMarkerAngle",value:function(e,t){this.points.push(e),this.angles.push(t)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}]),e}();(t.PathPainter=function(){function e(){r(this,e)}return a(e,null,[{key:"paintPath",value:function(t,a){var r,o=e.pathParser;o.reset(a.v);var s=new i;for(null!=t&&t.beginPath();!o.isEnd();)switch(o.nextCommand(),o.command){case"M":case"m":var c=o.getAsCurrentPoint();for(o.addMarker(c),s.addPoint(c.x,c.y),null!=t&&t.moveTo(c.x,c.y),o.start=o.current;!o.isCommandOrEnd();)c=o.getAsCurrentPoint(),o.addMarker(c,o.start),s.addPoint(c.x,c.y),null!=t&&t.lineTo(c.x,c.y);break;case"L":case"l":for(;!o.isCommandOrEnd();){var l=o.current;c=o.getAsCurrentPoint(),o.addMarker(c,l),s.addPoint(c.x,c.y),null!=t&&t.lineTo(c.x,c.y)}break;case"H":case"h":for(;!o.isCommandOrEnd();){var h=new n((o.isRelativeCommand()?o.current.x:0)+o.getScalar(),o.current.y);o.addMarker(h,o.current),o.current=h,s.addPoint(o.current.x,o.current.y),null!=t&&t.lineTo(o.current.x,o.current.y)}break;case"V":case"v":for(;!o.isCommandOrEnd();)h=new n(o.current.x,(o.isRelativeCommand()?o.current.y:0)+o.getScalar()),o.addMarker(h,o.current),o.current=h,s.addPoint(o.current.x,o.current.y),null!=t&&t.lineTo(o.current.x,o.current.y);break;case"C":case"c":for(;!o.isCommandOrEnd();){var u=o.current,f=o.getPoint(),d=o.getAsControlPoint(),p=o.getAsCurrentPoint();o.addMarker(p,d,f),s.addBezierCurve(u.x,u.y,f.x,f.y,d.x,d.y,p.x,p.y),null!=t&&t.bezierCurveTo(f.x,f.y,d.x,d.y,p.x,p.y)}break;case"S":case"s":for(;!o.isCommandOrEnd();)u=o.current,f=o.getReflectedControlPoint(),d=o.getAsControlPoint(),p=o.getAsCurrentPoint(),o.addMarker(p,d,f),s.addBezierCurve(u.x,u.y,f.x,f.y,d.x,d.y,p.x,p.y),null!=t&&t.bezierCurveTo(f.x,f.y,d.x,d.y,p.x,p.y);break;case"Q":case"q":for(;!o.isCommandOrEnd();)u=o.current,d=o.getAsControlPoint(),p=o.getAsCurrentPoint(),o.addMarker(p,d,d),s.addQuadraticCurve(u.x,u.y,d.x,d.y,p.x,p.y),null!=t&&t.quadraticCurveTo(d.x,d.y,p.x,p.y);break;case"T":case"t":for(;!o.isCommandOrEnd();)u=o.current,d=o.getReflectedControlPoint(),o.control=d,p=o.getAsCurrentPoint(),o.addMarker(p,d,d),s.addQuadraticCurve(u.x,u.y,d.x,d.y,p.x,p.y),null!=t&&t.quadraticCurveTo(d.x,d.y,p.x,p.y);break;case"A":case"a":for(;!o.isCommandOrEnd();){u=o.current;var v=o.getScalar(),m=o.getScalar(),y=o.getScalar()*(Math.PI/180),g=o.getScalar()?1:0,b=o.getScalar()?1:0,x=(p=o.getAsCurrentPoint(),new n(Math.cos(y)*(u.x-p.x)/2+Math.sin(y)*(u.y-p.y)/2,-Math.sin(y)*(u.x-p.x)/2+Math.cos(y)*(u.y-p.y)/2)),k=Math.pow(x.x,2)/Math.pow(v,2)+Math.pow(x.y,2)/Math.pow(m,2);k>1&&(v*=Math.sqrt(k),m*=Math.sqrt(k));var P=(g==b?-1:1)*Math.sqrt((Math.pow(v,2)*Math.pow(m,2)-Math.pow(v,2)*Math.pow(x.y,2)-Math.pow(m,2)*Math.pow(x.x,2))/(Math.pow(v,2)*Math.pow(x.y,2)+Math.pow(m,2)*Math.pow(x.x,2)));isNaN(P)&&(P=0);var T=new n(P*v*x.y/m,P*-m*x.x/v),w=new n((u.x+p.x)/2+Math.cos(y)*T.x-Math.sin(y)*T.y,(u.y+p.y)/2+Math.sin(y)*T.x+Math.cos(y)*T.y),I=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))};r=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(I(e)*I(t))};var M=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(r(e,t))},S=M([1,0],[(x.x-T.x)/v,(x.y-T.y)/m]),A=[(x.x-T.x)/v,(x.y-T.y)/m],C=[(-x.x-T.x)/v,(-x.y-T.y)/m],R=M(A,C);r(A,C)<=-1&&(R=Math.PI),r(A,C)>=1&&(R=0);var O=1-b?1:-1,N=S+O*(R/2),j=new n(w.x+v*Math.cos(N),w.y+m*Math.sin(N));if(o.addMarkerAngle(j,N-O*Math.PI/2),o.addMarkerAngle(p,N-O*Math.PI),s.addPoint(p.x,p.y),null!=t&&!isNaN(S)&&!isNaN(R)){r=v>m?v:m;var L=v>m?1:v/m,D=v>m?m/v:1;t.translate(w.x,w.y),t.rotate(y),t.scale(L,D),t.arc(0,0,r,S,S+R,!!(1-b)),t.scale(1/L,1/D),t.rotate(-y),t.translate(-w.x,-w.y)}}break;case"Z":case"z":null!=t&&s.x1!==s.x2&&s.y1!==s.y2&&t.closePath(),o.current=o.start}return s}}]),e}()).pathParser=new o;var s=t.convertSVGPathToPath=function(e,t){for(var a=Object.create(null),r=t.split(" "),n=0;n<r.length;n++)switch(r[n]){case"m":case"M":a.x=Number.parseFloat(r[n+1]),a.y=Number.parseFloat(r[n+2]),e.moveTo(Number.parseFloat(r[n+1]),Number.parseFloat(r[n+2])),n+=2;break;case"l":case"L":a.x=Number.parseFloat(r[n+1]),a.y=Number.parseFloat(r[n+2]),e.lineTo(Number.parseFloat(r[n+1]),Number.parseFloat(r[n+2])),n+=2;break;case"h":case"H":a.x=Number.parseFloat(r[n+1]),e.lineTo(a.x,a.y),n+=1;break;case"v":case"V":a.y=Number.parseFloat(r[n+1]),e.lineTo(a.x,a.y),n+=1;break;case"c":case"C":a.x=Number.parseFloat(r[n+5]),a.y=Number.parseFloat(r[n+6]),e.bezierCurveTo(Number.parseFloat(r[n+1]),Number.parseFloat(r[n+2]),Number.parseFloat(r[n+3]),Number.parseFloat(r[n+4]),Number.parseFloat(r[n+5]),Number.parseFloat(r[n+6])),n+=6;break;case"s":case"S":e.bezierCurveTo(a.x,a.y,Number.parseFloat(r[n+1]),Number.parseFloat(r[n+2]),Number.parseFloat(r[n+3]),Number.parseFloat(r[n+4])),a.x=Number.parseFloat(r[n+3]),a.y=Number.parseFloat(r[n+4]),n+=4;break;case"q":case"Q":a.x=Number.parseFloat(r[n+3]),a.y=Number.parseFloat(r[n+4]),e.quadraticCurveTo(Number.parseFloat(r[n+1]),Number.parseFloat(r[n+2]),Number.parseFloat(r[n+3]),Number.parseFloat(r[n+4])),n+=4;break;case"t":case"T":e.quadraticCurveTo(a.x,a.y,Number.parseFloat(r[n+1]),Number.parseFloat(r[n+2])),a.x=Number.parseFloat(r[n+1]),a.y=Number.parseFloat(r[n+2]),n+=2;break;case"a":case"A":break;case"z":case"Z":e.closePath()}},c=(t.paintPathGradient1=function(e,t,a,r,n){var i=t.paintInfo?t.paintInfo.colors:t.colors,o=t.paintInfo?t.paintInfo.intervals:t.intervals,c=t.paintInfo?t.paintInfo.gradientType:t.gradientType,h=t.paintInfo?t.paintInfo.textureIndex:t.textureIndex,u=a[0],f=a[1],d=a[2],p=a[3],v=void 0,m=[];if("stroke"!=n&&(e.save(),e.beginPath(),s(e,r),e.clip()),t.ctm&&e.transform(t.ctm[0],t.ctm[1],t.ctm[2],t.ctm[3],t.ctm[4],t.ctm[5]),0==c)switch(e.beginPath(),h){case 0:v=e.createLinearGradient(0,f,0,f+p),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d,p),e.fill()):(e.strokeStyle=v,e.rect(u,f,d,p),e.stroke());break;case 1:v=e.createLinearGradient(0,f+p,0,f),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d,p),e.fill()):(e.strokeStyle=v,e.rect(u,f,d,p),e.stroke());break;case 2:var y=e.createLinearGradient(0,f+p,0,f+p/2);v=e.createLinearGradient(0,f,0,f+p/2),m.push(v,y),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d,p/2),e.fill(),e.beginPath(),e.fillStyle=y,e.rect(u,f+p/2,d,p/2),e.fill()):(e.strokeStyle=v,e.rect(u,f,d,p/2),e.stroke(),e.beginPath(),e.strokeStyle=y,e.rect(u,f+p/2,d,p/2),e.stroke());break;case 3:var g=e.createLinearGradient(0,f+p/2,0,f+p);v=e.createLinearGradient(0,f+p/2,0,f),m.push(v,g),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d,p/2),e.fill(),e.beginPath(),e.fillStyle=g,e.rect(u,f+p/2,d,p/2),e.fill()):(e.strokeStyle=v,e.rect(u,f,d,p/2),e.stroke(),e.beginPath(),e.strokeStyle=g,e.rect(u,f+p/2,d,p/2),e.stroke())}else if(1==c)switch(e.beginPath(),h){case 0:v=e.createLinearGradient(u,0,u+d,0),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d,p),e.fill()):(e.strokeStyle=v,e.rect(u,f,d,p),e.stroke());break;case 1:v=e.createLinearGradient(u+d,0,u,0),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d,p),e.fill()):(e.strokeStyle=v,e.rect(u,f,d,p),e.stroke());break;case 2:var b=e.createLinearGradient(u+d,0,u+d/2,0);v=e.createLinearGradient(u,0,u+d/2,0),m.push(v,b),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d/2,p),e.fill(),e.beginPath(),e.fillStyle=b,e.rect(u+d/2,f,d/2,p),e.fill()):(e.strokeStyle=v,e.rect(u,f,d/2,p),e.stroke(),e.beginPath(),e.strokeStyle=b,e.rect(u+d/2,f,d/2,p),e.stroke());break;case 3:var x=e.createLinearGradient(u+d/2,0,u+d,0);v=e.createLinearGradient(u+d/2,0,u,0),m.push(v,x),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.rect(u,f,d/2,p),e.fill(),e.beginPath(),e.fillStyle=x,e.rect(u+d/2,f,d/2,p),e.fill()):(e.strokeStyle=v,e.rect(u,f,d/2,p),e.stroke(),e.beginPath(),e.strokeStyle=x,e.rect(u+d/2,f,d/2,p),e.stroke())}else if(2==c)switch(e.beginPath(),h){case 0:var k=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),P=d*p/k,T=Math.sqrt(Math.pow(p,2)-Math.pow(P,2)),w=k-2*T,I=f-T,M=u+Math.sqrt(Math.abs(Math.pow(w,2)-Math.pow(T,2)));v=e.createLinearGradient(M,I,u+d,f+p),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.fillRect(u,f,d,p)):(e.strokeStyle=v,e.strokeRect(u,f,d,p));break;case 1:var S=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),A=d*p/S,C=Math.sqrt(Math.pow(p,2)-Math.pow(A,2)),R=S-2*C,O=f-C,N=u+Math.sqrt(Math.abs(Math.pow(R,2)-Math.pow(C,2)));v=e.createLinearGradient(u+d,f+p,N,O),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.fillRect(u,f,d,p)):(e.strokeStyle=v,e.strokeRect(u,f,d,p));break;case 2:var j=d*p/Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),L=Math.sqrt(Math.pow(d,2)-Math.pow(j,2)),D=j*L/d,E=Math.sqrt(Math.pow(L,2)-Math.pow(D,2)),F=u+E,_=f+(p-D),G=u+(d-E),z=f+D,q=e.createLinearGradient(u,f,G,z);v=e.createLinearGradient(u+d,f+p,F,_),m.push(v,q),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.beginPath(),e.moveTo(u,f+p),e.lineTo(u+d,f+p),e.lineTo(u+d,f),e.closePath(),e.fill(),e.fillStyle=q,e.beginPath(),e.moveTo(u+d,f),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),e.fill()):(e.strokeStyle=v,e.beginPath(),e.moveTo(u,f+p),e.lineTo(u+d,f+p),e.lineTo(u+d,f),e.closePath(),e.stroke(),e.strokeStyle=q,e.beginPath(),e.moveTo(u+d,f),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),e.stroke());break;case 3:var U=d*p/Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),B=Math.sqrt(Math.pow(d,2)-Math.pow(U,2)),W=U*B/d,H=Math.sqrt(Math.pow(B,2)-Math.pow(W,2)),Q=u+H,Y=f+(p-W),X=u+(d-H),V=f+W,Z=e.createLinearGradient(X,V,u,f);v=e.createLinearGradient(Q,Y,u+d,f+p),m.push(v,Z),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.beginPath(),e.moveTo(u,f+p),e.lineTo(u+d,f+p),e.lineTo(u+d,f),e.closePath(),e.fill(),e.fillStyle=Z,e.beginPath(),e.moveTo(u+d,f),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),e.fill()):(e.strokeStyle=v,e.beginPath(),e.moveTo(u,f+p),e.lineTo(u+d,f+p),e.lineTo(u+d,f),e.closePath(),e.stroke(),e.strokeStyle=Z,e.beginPath(),e.moveTo(u+d,f),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),e.stroke())}else if(3==c)switch(h){case 0:var J=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),K=d*p/J,$=Math.sqrt(Math.pow(p,2)-Math.pow(K,2)),ee=J-2*$,te=f-$,ae=u+(d-Math.sqrt(Math.abs(Math.pow(ee,2)-Math.pow($,2))));v=e.createLinearGradient(ae,te,u,f+p),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.fillRect(u,f,d,p)):(e.strokeStyle=v,e.strokeRect(u,f,d,p));break;case 1:var re=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),ne=d*p/re,ie=Math.sqrt(Math.pow(p,2)-Math.pow(ne,2)),oe=re-2*ie,se=f-ie,ce=u+(d-Math.sqrt(Math.abs(Math.pow(oe,2)-Math.pow(ie,2))));v=e.createLinearGradient(u,f+p,ce,se),m.push(v),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.fillRect(u,f,d,p)):(e.strokeStyle=v,e.strokeRect(u,f,d,p));break;case 2:var le=d*p/Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),he=Math.sqrt(Math.pow(d,2)-Math.pow(le,2)),ue=le*he/d,fe=Math.sqrt(Math.pow(he,2)-Math.pow(ue,2)),de=u+(d-fe),pe=f+(p-ue),ve=u+fe,me=f+ue,ye=e.createLinearGradient(u+d,f,ve,me);v=e.createLinearGradient(u,f+p,de,pe),m.push(v,ye),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.beginPath(),e.moveTo(u+d,f+p),e.lineTo(u,f+p),e.lineTo(u,f),e.closePath(),e.fill(),e.fillStyle=ye,e.beginPath(),e.moveTo(u,f),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),e.fill()):(e.strokeStyle=v,e.beginPath(),e.moveTo(u+d,f+p),e.lineTo(u,f+p),e.lineTo(u,f),e.closePath(),e.stroke(),e.strokeStyle=ye,e.beginPath(),e.moveTo(u,f),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),e.stroke());break;case 3:var ge=d*p/Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),be=Math.sqrt(Math.pow(d,2)-Math.pow(ge,2)),xe=ge*be/d,ke=Math.sqrt(Math.pow(be,2)-Math.pow(xe,2)),Pe=u+(d-ke),Te=f+(p-xe),we=u+ke,Ie=f+xe,Me=e.createLinearGradient(we,Ie,u+d,f);v=e.createLinearGradient(Pe,Te,u,f+p),m.push(v,Me),l(i,o,m),"stroke"!=n?(e.fillStyle=v,e.beginPath(),e.moveTo(u+d,f+p),e.lineTo(u,f+p),e.lineTo(u,f),e.closePath(),e.fill(),e.fillStyle=Me,e.beginPath(),e.moveTo(u,f),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),e.fill()):(e.strokeStyle=v,e.beginPath(),e.moveTo(u+d,f+p),e.lineTo(u,f+p),e.lineTo(u,f),e.closePath(),e.stroke(),e.strokeStyle=Me,e.beginPath(),e.moveTo(u,f),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),e.stroke())}else if(4==c){var Se=void 0;switch(h){case 0:v=e.createLinearGradient(0,f,0,f+p),Se=e.createLinearGradient(u,0,u+d,0),m.push(v,Se),l(i,o,m),e.beginPath(),e.moveTo(u,f),e.lineTo(u+d,f+p),e.lineTo(u,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=v,e.fill()):(e.strokeStyle=v,e.stroke()),e.moveTo(u,f),e.lineTo(u+d,f+p),e.lineTo(u+d,f),e.closePath(),"stroke"!=n?(e.fillStyle=Se,e.fill()):(e.strokeStyle=Se,e.stroke());break;case 1:v=e.createLinearGradient(u+d,0,u,0),Se=e.createLinearGradient(0,f,0,f+p),m.push(v,Se),l(i,o,m),e.beginPath(),e.moveTo(u+d,f),e.lineTo(u,f+p),e.lineTo(u,f),e.closePath(),"stroke"!=n?(e.fillStyle=v,e.fill()):(e.strokeStyle=v,e.stroke()),e.beginPath(),e.moveTo(u+d,f),e.lineTo(u,f+p),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Se,e.fill()):(e.strokeStyle=Se,e.stroke());break;case 2:v=e.createLinearGradient(0,f+p,0,f),Se=e.createLinearGradient(u,0,u+d,0),m.push(v,Se),l(i,o,m),e.beginPath(),e.moveTo(u,f+p),e.lineTo(u+d,f),e.lineTo(u,f),e.closePath(),"stroke"!=n?(e.fillStyle=v,e.fill()):(e.strokeStyle=v,e.stroke()),e.beginPath(),e.moveTo(u,f+p),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Se,e.fill()):(e.strokeStyle=Se,e.stroke());break;case 3:v=e.createLinearGradient(u+d,0,u,0),Se=e.createLinearGradient(0,f+p,0,f),m.push(v,Se),l(i,o,m),e.beginPath(),e.moveTo(u+d,f+p),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=v,e.fill()):(e.strokeStyle=v,e.stroke()),e.beginPath(),e.moveTo(u+d,f+p),e.lineTo(u,f),e.lineTo(u+d,f),e.closePath(),"stroke"!=n?(e.fillStyle=Se,e.fill()):(e.strokeStyle=Se,e.stroke());break;case 6:var Ae,Ce;v=e.createLinearGradient(u+d/2,0,u,0),Se=e.createLinearGradient(0,f+p/2,0,f),Ae=e.createLinearGradient(u+d/2,0,u+d,0),Ce=e.createLinearGradient(0,f+p/2,0,f+p),m.push(v,Se,Ae,Ce),l(i,o,m),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=v,e.fill()):(e.strokeStyle=v,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u+d,f),e.lineTo(u,f),e.closePath(),"stroke"!=n?(e.fillStyle=Se,e.fill()):(e.strokeStyle=Se,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Ae,e.fill()):(e.strokeStyle=Ae,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u,f+p),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Ce,e.fill()):(e.strokeStyle=Ce,e.stroke())}}else if(5==c){var Re=void 0,Oe=void 0,Ne=void 0;switch(h){case 0:v=e.createLinearGradient(u+d/2,0,u,0),Re=e.createLinearGradient(0,f+p/2,0,f),Oe=e.createLinearGradient(u+d/2,0,u+d,0),Ne=e.createLinearGradient(0,f+p/2,0,f+p),m.push(v,Re,Oe,Ne),l(i,o,m),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=v,e.fill()):(e.strokeStyle=v,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u+d,f),e.lineTo(u,f),e.closePath(),"stroke"!=n?(e.fillStyle=Re,e.fill()):(e.strokeStyle=Re,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Oe,e.fill()):(e.strokeStyle=Oe,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u,f+p),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Ne,e.fill()):(e.strokeStyle=Ne,e.stroke());break;case 1:v=e.createLinearGradient(u,0,u+d/2,0),Re=e.createLinearGradient(0,f,0,f+p/2),Oe=e.createLinearGradient(u+d,0,u+d/2,0),Ne=e.createLinearGradient(0,f+p,0,f+p/2),m.push(v,Re,Oe,Ne),l(i,o,m),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u,f),e.lineTo(u,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=v,e.fill()):(e.strokeStyle=v,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u+d,f),e.lineTo(u,f),e.closePath(),"stroke"!=n?(e.fillStyle=Re,e.fill()):(e.strokeStyle=Re,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u+d,f),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Oe,e.fill()):(e.strokeStyle=Oe,e.stroke()),e.beginPath(),e.moveTo(u+d/2,f+p/2),e.lineTo(u,f+p),e.lineTo(u+d,f+p),e.closePath(),"stroke"!=n?(e.fillStyle=Ne,e.fill()):(e.strokeStyle=Ne,e.stroke())}}"stroke"!=n&&e.restore()},t.paintPathGradient2=function(e,t,a,r,n){var i=t.paintInfo?t.paintInfo.colors:t.colors,o=t.paintInfo?t.paintInfo.intervals:t.intervals,u=t.paintInfo?t.paintInfo.gradientType:t.gradientType,f=t.paintInfo?t.paintInfo.direction:t.direction,d=a[0],p=a[1],v=a[2],m=a[3],y=void 0,g=[];if("stroke"!=n&&(e.save(),e.beginPath(),s(e,r),e.clip()),t.ctm&&e.transform(t.ctm[0],t.ctm[1],t.ctm[2],t.ctm[3],t.ctm[4],t.ctm[5]),0==u){var b=t.paintInfo?t.paintInfo.angle:t.angle,x=void 0,k=void 0,P=void 0,T=void 0;e.beginPath(),90==b||270==b?(y=e.createLinearGradient(0,p,0,p+m),g.push(y),l(i,o,g),e.translate(d+v/2,p+m/2),e.rotate((b-90)*Math.PI/180),e.translate(-(d+v/2),-(p+m/2)),e.rect(d,p,v,m)):(y=e.createLinearGradient(d,0,d+v,0),g.push(y),l(i,o,g),e.translate(d+v/2,p+m/2),e.rotate(b*Math.PI/180),e.translate(-(d+v/2),-(p+m/2)),x=c(v/2,m/2,b%180),k=c(v/2,-m/2,b%180),P=Math.max(Math.abs(x[0]),Math.abs(k[0]),v/2),T=Math.max(Math.abs(x[1]),Math.abs(k[1]),m/2),e.rect(d+v/2-P,p+m/2-T,2*P,2*T)),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke())}else if(1==u){var w=Math.abs(m>v?v:m);switch(e.beginPath(),f){case 4:y=e.createRadialGradient(d+v,p+m,w/8,d+v,p+m,w);break;case 5:y=e.createRadialGradient(d,p+m,w/8,d,p+m,w);break;case 6:y=e.createRadialGradient(d+v/2,p+m/2,w/100,d+v/2,p+m/2,w);break;case 7:y=e.createRadialGradient(d+v,p,w/8,d+v,p,w);break;case 8:y=e.createRadialGradient(d,p,w/8,d,p,w)}g.push(y),h(i,o,g),e.rect(d,p,v,m),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke())}else if(2==u){var I=void 0;switch(f){case 4:y=e.createLinearGradient(d+v,0,d,0),I=e.createLinearGradient(0,p+m,0,p),g.push(y,I),h(i,o,g),e.beginPath(),e.moveTo(d+v,p+m),e.lineTo(d,p),e.lineTo(d,p+m),e.closePath(),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke()),e.beginPath(),e.moveTo(d+v,p+m),e.lineTo(d,p),e.lineTo(d+v,p),e.closePath(),"stroke"!=n?(e.fillStyle=I,e.fill()):(e.strokeStyle=I,e.stroke());break;case 5:y=e.createLinearGradient(0,p+m,0,p),I=e.createLinearGradient(d,0,d+v,0),g.push(y,I),h(i,o,g),e.beginPath(),e.moveTo(d,p+m),e.lineTo(d+v,p),e.lineTo(d,p),e.closePath(),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke()),e.beginPath(),e.moveTo(d,p+m),e.lineTo(d+v,p),e.lineTo(d+v,p+m),e.closePath(),"stroke"!=n?(e.fillStyle=I,e.fill()):(e.strokeStyle=I,e.stroke());break;case 6:var M,S;y=e.createLinearGradient(d+v/2,0,d,0),I=e.createLinearGradient(0,p+m/2,0,p),M=e.createLinearGradient(d+v/2,0,d+v,0),S=e.createLinearGradient(0,p+m/2,0,p+m),g.push(y,I,M,S),h(i,o,g),e.beginPath(),e.moveTo(d+v/2,p+m/2),e.lineTo(d,p),e.lineTo(d,p+m),e.closePath(),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke()),e.beginPath(),e.moveTo(d+v/2,p+m/2),e.lineTo(d+v,p),e.lineTo(d,p),e.closePath(),"stroke"!=n?(e.fillStyle=I,e.fill()):(e.strokeStyle=I,e.stroke()),e.beginPath(),e.moveTo(d+v/2,p+m/2),e.lineTo(d+v,p),e.lineTo(d+v,p+m),e.closePath(),"stroke"!=n?(e.fillStyle=M,e.fill()):(e.strokeStyle=M,e.stroke()),e.beginPath(),e.moveTo(d+v/2,p+m/2),e.lineTo(d,p+m),e.lineTo(d+v,p+m),e.closePath(),"stroke"!=n?(e.fillStyle=S,e.fill()):(e.strokeStyle=S,e.stroke());break;case 7:y=e.createLinearGradient(d+v,0,d,0),I=e.createLinearGradient(0,p,0,p+m),g.push(y,I),h(i,o,g),e.beginPath(),e.moveTo(d+v,p),e.lineTo(d,p+m),e.lineTo(d,p),e.closePath(),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke()),e.beginPath(),e.moveTo(d+v,p),e.lineTo(d,p+m),e.lineTo(d+v,p+m),e.closePath(),"stroke"!=n?(e.fillStyle=I,e.fill()):(e.strokeStyle=I,e.stroke());break;case 8:y=e.createLinearGradient(0,p,0,p+m),I=e.createLinearGradient(d,0,d+v,0),g.push(y,I),h(i,o,g),e.beginPath(),e.moveTo(d,p),e.lineTo(d+v,p+m),e.lineTo(d,p+m),e.closePath(),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke()),e.beginPath(),e.moveTo(d,p),e.lineTo(d+v,p+m),e.lineTo(d+v,p),e.closePath(),"stroke"!=n?(e.fillStyle=I,e.fill()):(e.strokeStyle=I,e.stroke())}}else if(3==u){var A=Math.abs(m>v?v:m);e.beginPath(),y=e.createRadialGradient(d+v/2,p+m/2,A/600,d+v/2,p+m/2,A),g.push(y),h(i,o,g),e.rect(d,p,v,m),"stroke"!=n?(e.fillStyle=y,e.fill()):(e.strokeStyle=y,e.stroke())}"stroke"!=n&&e.restore()},t.getRotatePosition=function(e,t,a){var r=new Array;return r[0]=e*Math.cos(a*Math.PI/180)+t*Math.sin(a*Math.PI/180),r[1]=-e*Math.sin(a*Math.PI/180)+t*Math.cos(a*Math.PI/180),r}),l=t.checkWordOrExcelToAddColorStopHandle=function(e,t,a){if(e.length>t.length)for(var r=0,n=0;n<e.length&&!(r>1);n++){var i=!0,o=!1,s=void 0;try{for(var c,l=a[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)c.value.addColorStop(r,"rgba("+e[n].r+","+e[n].g+","+e[n].b+","+(e[n].alpha/255||.01)+")")}catch(e){o=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}r+=Math.round(10*t[n])/10}else for(var h=0;h<e.length;h++){var u=!0,f=!1,d=void 0;try{for(var p,v=a[Symbol.iterator]();!(u=(p=v.next()).done);u=!0)p.value.addColorStop(t[h],"rgba("+e[h].r+","+e[h].g+","+e[h].b+","+(e[h].alpha/255||.01)+")")}catch(e){f=!0,d=e}finally{try{!u&&v.return&&v.return()}finally{if(f)throw d}}}},h=t.addColorStopHandle=function(e,t,a){for(var r=0;r<e.length;r++){var n=!0,i=!1,o=void 0;try{for(var s,c=a[Symbol.iterator]();!(n=(s=c.next()).done);n=!0)s.value.addColorStop(t[r],"rgba("+e[r].r+","+e[r].g+","+e[r].b+","+(e[r].alpha/255||.01)+")")}catch(e){i=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}}}},812:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();t.Animation=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.randomList=[2,19,26,9,1,18,8,15,23,21,20,30,38,25,4,6,29,14,11,7,12,0,5,10,13,17,22,33],this.pgReader=t,this._$Status=Object.create(null),this._$Status.other=Object.create(null),this.u_presentation=Object.create(null),this.u_presentation._$U_A_Cons=Object.create(null)}return a(e,[{key:"play",value:function(e,t){var a=e.slide,r=e.animInfo,n=e.shape;if(n)try{this.animHandler(this._$Status,n,t,e.count,r.animIdx,r.animType,r.endTime,r.direct,r.emphAttr,a,r.textInfo,r.oldParaIdx,r.paraIdx)}catch(e){console.error(e)}}},{key:"animHandler",value:function(e,t,a,r,n,i,o,s,c,l,h,u,f){var d,p=t.shapeRect,v=t.textRect,m=p.x,y=p.y,g=p.width,b=p.height,x=v.x,k=v.y,P=v.width,T=v.height,w=this.pgReader.doc.pagesize.width,I=this.pgReader.doc.pagesize.height,M=e.other.animDis,S=(this.u_presentation,this);if(0!=i)return 1==i?16==n?G():24==n?(a.globalAlpha=r<=30*o?1-1/(30*o)*r:1/(30*o)*(r-30*o),void(c&&r<60*o&&(a.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",a.strokeStyle=u<=0?"#000001":"#000002"))):23==n?(h?a.translate(h[0]+h[2]/2,h[1]+h[3]/2):a.translate(U(t).x,U(t).y),r<=60*o/8?a.rotate(-Math.PI/45/(60*o/8)*r):r>60*o/8&&r<=60*o*3/8?a.rotate(-Math.PI/45+Math.PI/45/(60*o/4)*(r-60*o/8)):r>60*o*3/8&&r<=60*o*5/8?a.rotate(Math.PI/45-Math.PI/45/(60*o/4)*(r-60*o*3/8)):r>60*o*5/8&&r<=60*o*7/8?a.rotate(-Math.PI/45+Math.PI/45/(60*o/4)*(r-60*o*5/8)):a.rotate(Math.PI/45-Math.PI/45/(60*o/8)*(r-60*o*7/8)),void(h?a.translate(-h[0]-h[2]/2,-h[1]-h[3]/2):a.translate(-U(t).x,-U(t).y))):8==n?function(){if(h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var c=e+n/2,l=t+i/2,u=s[0],f=s[1];switch(a.translate(c,l),u){case 0:a.rotate(Math.PI*(f/180)/(60*o)*r);break;case 1:a.rotate(-Math.PI*(f/180)/(60*o)*r)}a.translate(-c,-l)}():0==n?function(){if(h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var c=e+n/2,l=t+i/2,u=s[0],f=s[1];switch(u){case 0:a.translate(c-c*(1-(1-f)/(60*o)*r),0),a.scale(1-(1-f)/(60*o)*r,1);break;case 1:a.translate(0,l-l*(1-(1-f)/(60*o)*r)),a.scale(1,1-(1-f)/(60*o)*r);break;case 2:a.translate(c-c*(1-(1-f)/(60*o)*r),l-l*(1-(1-f)/(60*o)*r)),a.scale(1-(1-f)/(60*o)*r,1-(1-f)/(60*o)*r)}}():12==n?(A=c.br,C=c.bg,R=c.bb,O=c.fr,N=c.fb,j=c.fg,L=Math.floor((C-j)/(60*o)*r+j),D=Math.floor((A-O)/(60*o)*r+O),E=Math.floor((R-N)/(60*o)*r+N),a.fillStyle="rgb("+D+", "+L+", "+E+")",void(a.strokeStyle=f<0?"#000001":"#000002")):19==n?function(){var e=c.br,t=c.bg,n=c.bb,i=c.fr,s=c.fb,l=c.fg,h=Math.floor((t-l)/(60*o)*r+l),u=Math.floor((e-i)/(60*o)*r+i),d=Math.floor((n-s)/(60*o)*r+s);a.fillStyle="rgb("+u+", "+h+", "+d+")",a.strokeStyle=f<0?"#000002":"#000001"}():9==n?function(){var e=c.br,t=c.bg,n=c.bb,i=c.fr,s=c.fb,l=c.fg,h=Math.floor((t-l)/(60*o)*r+l),u=Math.floor((e-i)/(60*o)*r+i),d=Math.floor((n-s)/(60*o)*r+s);a.fillStyle="rgb("+u+", "+h+", "+d+")",a.strokeStyle=f<0?"#000002":"#000001"}():7==n?(s[1]>=1&&(s[1]=1),void(a.globalAlpha=1-s[1]/(60*o)*r)):17==n?function(){var e=c.br,t=c.bg,n=c.bb,i=c.fr,s=c.fb,l=c.fg,h=Math.floor((t-l)/(60*o)*r+l),u=Math.floor((e-i)/(60*o)*r+i),d=Math.floor((n-s)/(60*o)*r+s);a.fillStyle="rgb("+u+", "+h+", "+d+")",a.strokeStyle=f<0?"#000002":"#000001"}():10==n?function(){var e=c.br,t=c.bg,n=c.bb,i=c.fr,s=c.fb,l=c.fg,h=Math.floor((t-l)/(60*o)*r+l),u=Math.floor((e-i)/(60*o)*r+i),d=Math.floor((n-s)/(60*o)*r+s);a.fillStyle="rgb("+u+", "+h+", "+d+")",a.strokeStyle=f<0?"#000002":"#000001"}():2==n?function(){var e=c.r,t=c.g,r=c.b;a.fillStyle="rgb("+e+", "+t+", "+r+")",a.strokeStyle="#00000b"}():1==n?function(){var e=c.r,t=c.g,n=c.b;a.globalAlpha=1/(60*o)*r,a.fillStyle="rgb("+e+", "+t+", "+n+")"}():18==n?void(a.strokeStyle=r<60*o*.6&&r>60*o*.5?"#000004":"#000000"):5==n?function(){var e=c.r,t=c.g,n=c.b;a.globalAlpha=1/(60*o)*r,a.fillStyle="rgb("+e+", "+t+", "+n+")",a.strokeStyle="#000001"}():G():2==i?17==n?void(a.globalAlpha=0):19==n?z():2==n?function(){0==r&&(M=q(),e.other.animDis=M);var t=M[0],n=M[1];switch(e.other.addTimes&&e.other.addTimes!=r&&(t=-t*e.other.addTimes,n=-n*e.other.addTimes),r!=60*o||e.other.addTimes||(t=-t*r,n=-n*r),s){case 0:a.translate(0,n/(60*o)*r);break;case 1:a.translate(-t/(60*o)*r,0);break;case 2:a.translate(t/(60*o)*r,0);break;case 3:a.translate(0,-n/(60*o)*r);break;case 4:a.translate(-t/(60*o)*r,n/(60*o)*r);break;case 5:a.translate(t/(60*o)*r,n/(60*o)*r);break;case 6:a.translate(-t/(60*o)*r,-n/(60*o)*r);break;case 7:a.translate(t/(60*o)*r,-n/(60*o)*r)}}():31==n?(a.globalAlpha=1-1/(60*o)*r,e.other.addTimes&&e.other.addTimes!=r&&a.translate(0,-250/(60*o)*e.other.addTimes),r!=60*o||e.other.addTimes||a.translate(0,-250),void(!e.other.addTimes&&a.translate(0,250/(60*o)*r))):8==n?function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;switch(r=60*o-r,s){case 1:a.rect(e-.5,t-.5,n+1,i/2/(60*o)*r+.001),a.rect(e-.5,t+i-i/2/(60*o)*r-.5,n+1,i/2/(60*o)*r+.001);break;case 0:a.rect(e-.5,t+i/2-i/2/(60*o)*r,n+1,i/(60*o)*r+.001);break;case 3:a.rect(e+.5,t-.5,n/2/(60*o)*r+.001,i+1),a.rect(e+n-n/2/(60*o)*r-.5,t-.5,n/2/(60*o)*r+.001,i+1);break;case 2:a.rect(e+n/2-n/2/(60*o)*r,t-.5,n/(60*o)*r+.001,i+1)}a.clip()}():1==n?function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;switch(r=60*o-r,s){case 3:a.rect(e-.5,t+i-i/(60*o)*r+1,n+1,i/(60*o)*r+1);break;case 2:a.rect(e-.5,t-.5,n/(60*o)*r-1,i+1);break;case 1:a.rect(e+n-n/(60*o)*r-.5,t-.5,n/(60*o)*r,i+1);break;case 0:a.rect(e-.5,t-1.5,n+1,i/(60*o)*r)}a.clip()}():18==n?function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var s=e+n/2,c=t+i/2,l=n/Math.sqrt(2),u=i/Math.sqrt(2);a.rect(e-.5,t-.5,n+1,i+1),a.clip(),a.beginPath(),a.ellipse(s,c,l-l/(60*o)*r,u-u/(60*o)*r,0,0,2*Math.PI),a.clip()}():7==n?function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var c=e+n/2,l=t+i/2,u=n>i?n:i;switch(r=60*o-r,s){case 0:a.moveTo(c,l),a.arc(c,l,u,1.5*Math.PI,1.5*Math.PI-2*Math.PI/(60*o)*r,!0);break;case 1:a.moveTo(c,l),a.arc(c,l,u,.5*Math.PI,.5*Math.PI-Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1.5*Math.PI,1.5*Math.PI-Math.PI/(60*o)*r,!0);break;case 2:a.moveTo(c,l),a.arc(c,l,u,Math.PI/6,Math.PI/6-2/3*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,5*Math.PI/6,5*Math.PI/6-2/3*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1.5*Math.PI,1.5*Math.PI-2/3*Math.PI/(60*o)*r,!0);break;case 3:a.moveTo(c,l),a.arc(c,l,u,0*Math.PI,0*Math.PI-.5*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,.5*Math.PI,.5*Math.PI-.5*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1*Math.PI,1*Math.PI-.5*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1.5*Math.PI,1.5*Math.PI-.5*Math.PI/(60*o)*r,!0);break;case 4:a.moveTo(c,l),a.arc(c,l,u,.25*Math.PI,.25*Math.PI-.25*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,.5*Math.PI,.5*Math.PI-.25*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,.75*Math.PI,.75*Math.PI-.25*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1*Math.PI,1*Math.PI-.25*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1.25*Math.PI,1.25*Math.PI-.25*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1.5*Math.PI,1.5*Math.PI-.25*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,1.75*Math.PI,1.75*Math.PI-.25*Math.PI/(60*o)*r,!0),a.moveTo(c,l),a.arc(c,l,u,2*Math.PI,2*Math.PI-.25*Math.PI/(60*o)*r,!0)}a.clip()}():14==n?function(){var e=30,t=[0,8,4,5,2,9,3,6,7,1],n=[5,4,6,3,7,2,8,1,9,0],i=[9,1,2,8,0,7,3,5,4,6];if(a.beginPath(),h)var c=h[0],l=h[1],u=h[2],f=h[3];else c=m,l=y,u=g,f=b;switch(s){case 1:for(var d=10-Math.floor(r/(6*o)),p=0;p<e;p++)if(p%3==0)for(var v=0;v<d;v++)a.rect(c+p*u/e+t[v]*u/300,l,u/300,f);else if(p%3==1)for(var x=0;x<d;x++)a.rect(c+p*u/e+n[x]*u/300,l,u/300,f);else for(var k=0;k<d;k++)a.rect(c+p*u/e+i[k]*u/300,l,u/300,f);break;case 0:for(var P=10-Math.floor(r/(6*o)),T=0;T<e;T++)if(T%3==0)for(var w=0;w<P;w++)a.rect(c,l+T*f/e+t[w]*f/300,u,f/300);else if(T%3==1)for(var I=0;I<P;I++)a.rect(c,l+T*f/e+n[I]*f/300,u,f/300);else for(var M=0;M<P;M++)a.rect(c,l+T*f/e+i[M]*f/300,u,f/300)}a.clip()}():21==n?function(){if(h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var s=e+n/2,c=t+i/2;a.globalAlpha=1-1/(60*o)*r,a.translate(s*(1-(1-1/(60*o)*r)),c*(1-(1-1/(60*o)*r))),a.scale(1-1/(60*o)*r,1-1/(60*o)*r)}():24==n?function(){a.globalAlpha=1-1/(60*o)*r;var e=U(t).x,n=U(t).y;a.translate(e,n),a.rotate(Math.PI/4/(60*o)*r),a.translate(-e,-n),a.translate(e*(1-(1-.75/(60*o)*r)),n*(1-(1-.75/(60*o)*r))),a.scale(1-.75/(60*o)*r,1-.75/(60*o)*r)}():20==n?function(){var e;if(a.globalAlpha=1-1/(60*o)*r,h){var n=h[0];h[1];e=n+h[2]/2,h[3]}else e=U(t).x,U(t).y;r<=30*o?a.transform(1-2/(30*o)*r,0,0,1,e*(1-(1-2/(30*o)*r)),0):a.transform(2/(30*o)*(r-30*o)-1,0,0,1,e*(1-(2/(30*o)*(r-30*o)-1)),0)}():35==n?function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;for(var c=t+i/2,l=s[1].pathPoints,u=[],f=0;f<l.length;f++)u.push([l[f],l[f+1]]),f++;var d=u.length,p=d/(60*o),v=Math.floor(p*r),x=p*r-v;if(p*r<d&&v<d-1){var k=[u[v][0],u[v][1]],P=[u[v+1][0],u[v+1][1]];a.translate(k[0]+(P[0]-k[0])*x,k[1]+(P[1]-k[1])*x),r>1&&v<d-1&&u[v][1]>=u[v+1][1]&&u[v][1]>=u[v-1][1]&&(a.translate(0,.2*c),a.scale(1,.8))}else a.globalAlpha=0;a.globalAlpha&&a.rect(e-.5,t-.5+i/(d/p)*r+1,n+1,i-i/(d/p)*r+1),a.clip()}():27==n?(a.globalAlpha=1-1/(60*o)*r,e.other.addTimes&&e.other.addTimes!=r&&a.translate(0,-100/(60*o)*e.other.addTimes),r!=60*o||e.other.addTimes||a.translate(0,-100),void(!e.other.addTimes&&a.translate(0,-50/(60*o)*r))):0==n?function(){switch(a.beginPath(),s){case 0:for(var e=0;e<=5;e++)a.rect(m,y+b/6*e,g,b/6/(60*o)*(60*o-r));break;case 1:for(var t=0;t<=5;t++)a.rect(m+g/6*t,y,g/6/(60*o)*(60*o-r),b)}a.clip()}():4==n?function(){switch(a.beginPath(),s){case 0:a.translate(0,(a.canvas.height/2-y+b)/(60*o)*r),a.rect(m,y,g,b);break;case 1:a.translate(-(m+g)/(60*o)*r,0),a.rect(m,y,g,b);break;case 2:a.translate((a.canvas.width/2-m+g)/(60*o)*r,0),a.rect(m,y,g,b);break;case 3:a.translate(0,-(y+b)/(60*o)*r),a.rect(m,y,g,b)}a.clip()}():5==n?function(){var e=Math.floor(20-r/(3*o));switch(a.beginPath(),s){case 2:if(e<=10)for(var t=0;t<=20;t++)t<=2*e&&a.rect(m+t*g/20,y,g/20,(2*e-t)*b/20);else for(var n=0;n<=20;n++)n<2*(e-10)?a.rect(m+n*g/20,y,g/20,b):a.rect(m+n*g/20,y,g/20,b-b*(n+20-2*e)/20);break;case 0:if(e<=10)for(var i=0;i<=20;i++)i<=2*e&&a.rect(m+g-i*g/20,y,g/20,(2*e-i)*b/20);else for(var c=0;c<=20;c++)c<2*(e-10)?a.rect(m+g-c*g/20,y,g/20,b):a.rect(m+g-c*g/20,y,g/20,b-b*(c+20-2*e)/20);break;case 3:if(e<=10)for(var l=0;l<=20;l++)l<=2*e&&a.rect(m+l*g/20,y+b-(2*e-l)*b/20,g/20,(2*e-l)*b/20);else for(var h=0;h<=20;h++)h<2*(e-10)?a.rect(m+h*g/20,y,g/20,b):a.rect(m+h*g/20,y+b*(h+20-2*e)/20,g/20,b-b*(h+20-2*e)/20);break;case 1:if(e<=10)for(var u=0;u<=20;u++)u<=2*e&&a.rect(m+g-u*g/20,y+b-(2*e-u)*b/20,g/20,(2*e-u)*b/20);else for(var f=0;f<=20;f++)f<2*(e-10)?a.rect(m+g-f*g/20,y,g/20,b):a.rect(m+g-f*g/20,y+b*(f+20-2*e)/20,g/20,b-b*(f+20-2*e)/20)}a.clip()}():9==n?function(){switch(r=60*o-r,a.beginPath(),s){case 0:for(var e=0;e<=11;e++)for(var t=0;t<=5;t++)(e+t)%2==0?30*o-r>0?a.rect(m+g/12*e,y+b/6*t,g/12/(30*o)*r,b/6):a.rect(m+g/12*e,y+b/6*t,g/12,b/6):30*o-r<0&&a.rect(m+g/12*e,y+b/6*t,g/12/(30*o)*(r-30*o),b/6);break;case 1:for(var n=0;n<=5;n++)for(var i=0;i<=11;i++)(n+i)%2==0?30*o-r>0?a.rect(m+g/6*n,y+b/12*i,g/6,b/12/(30*o)*r):a.rect(m+g/6*n,y+b/12*i,g/6,b/12):30*o-r<0&&a.rect(m+g/6*n,y+b/12*i,g/6,b/12/(30*o)*(r-30*o))}a.clip()}():12==n?function(){var e=m+g/2,t=y+b/2;a.beginPath(),a.moveTo(e,t),a.arc(e,t,(b+g)/2,.5*-Math.PI+Math.PI/(60*o)*r,1.5*Math.PI-Math.PI/(60*o)*r),a.closePath(),a.clip()}():16==n?function(){var e=Math.floor(20-r/(3*o)),t=Math.floor(g/60)+1,n=Math.floor(b/20)+1;a.beginPath();for(var i=0;i<t;i++)for(var s=0;s<n;s++)for(var c=1;c<=e;c++)switch(c){case 1:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 2:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 3:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 4:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 5:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 6:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 7:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 8:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 9:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 10:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 11:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 12:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 13:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 14:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 15:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 16:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 17:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 18:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 19:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 20:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*3,g/t/5,b/n/4)}a.clip()}():6==n?function(){var e=60*o-r;switch(a.beginPath(),s){case 0:a.moveTo(m+g/2-g/(60*o)*e,y+b/2),a.lineTo(m+g/2,y+b/2-b/(60*o)*e),a.lineTo(m+g-g/2+g/(60*o)*e,y+b/2),a.lineTo(m+g/2,y+b-b/2+b/(60*o)*e),a.lineTo(m+g/2-g/(60*o)*e,y+b/2),a.closePath();break;case 1:e/(60*o)<.5?(a.moveTo(m,y),a.lineTo(m+g/(60*o)*e,y),a.lineTo(m,y+b/(60*o)*e),a.lineTo(m,y),a.closePath(),a.moveTo(m+g,y),a.lineTo(m+g-g/(60*o)*e,y),a.lineTo(m+g,y+b/(60*o)*e),a.lineTo(m+g,y),a.closePath(),a.moveTo(m,y+b),a.lineTo(m,y+b-b/(60*o)*e),a.lineTo(m+g/(60*o)*e,y+b),a.lineTo(m,y+b),a.closePath(),a.moveTo(m+g,y+b),a.lineTo(m+g,y+b-b/(60*o)*e),a.lineTo(m+g-g/(60*o)*e,y+b),a.lineTo(m+g,y+b),a.closePath()):(a.moveTo(m,y),a.lineTo(m,y+b),a.lineTo(m+g,y+b),a.lineTo(m+g,y),a.lineTo(m,y),a.moveTo(m+g/2,y-b/2+b/(60*o)*e),a.lineTo(m+1.5*g-g/(60*o)*e,y+b/2),a.lineTo(m+g/2,y+1.5*b-b/(60*o)*e),a.lineTo(m-g/2+g/(60*o)*e,y+b/2),a.lineTo(m+g/2,y-b/2+b/(60*o)*e),a.closePath())}a.clip()}():10==n?function(){var e=60*o-r;switch(a.beginPath(),s){case 0:a.translate(0,b-b/(60*o)*e),a.rect(m,y,g,b/(60*o)*e);break;case 1:a.translate(g/(60*o)*e-g,0),a.rect(m+g-g/(60*o)*e,y,g/(60*o)*e,b);break;case 2:a.translate(g-g/(60*o)*e,0),a.rect(m,y,g/(60*o)*e,b);break;case 3:a.translate(0,b/(60*o)*e-b),a.rect(m,y+b-b/(60*o)*e,g,b/(60*o)*e)}a.clip()}():3==n?function(){var e=60*o-r;if(a.beginPath(),h)var t=h[0],n=h[1],i=h[2],c=h[3];switch(s){case 1:h?(a.rect(t,n,i,c/2/(60*o)*e),a.rect(t,n+c-c/2/(60*o)*e,i,c/2/(60*o)*e),a.rect(t,n,i/2/(60*o)*e,c),a.rect(t+i-i/2/(60*o)*e,n,i/2/(60*o)*e,c)):(a.rect(m-.5,y-.5,g+1,b/2/(60*o)*e+1),a.rect(m-.5,y+b-b/2/(60*o)*e-.5,g+1,b/2/(60*o)*e+1),a.rect(m-.5,y-.5,g/2/(60*o)*e+1,b+1),a.rect(m+g-g/2/(60*o)*e-.5,y-.5,g/2/(60*o)*e+1,b+1));break;case 0:h?a.rect(t+i/2*(1-1/(60*o)*e),n+c/2*(1-1/(60*o)*e),i/(60*o)*e,c/(60*o)*e):a.rect(m+g/2*(1-1/(60*o)*e),y+b/2*(1-1/(60*o)*e),g/(60*o)*e,b/(60*o)*e)}a.clip()}():11==n?void(r!==30*o&&r!==60*o||(a.globalAlpha=0)):z():3==i?function(){a.beginPath();for(var e=s[1].pathPoints,n=[],i=0;i<e.length;i++)n.push([e[i],e[i+1]]),i++;h&&t&&a.translate(U(t).x-(h[0]+h[2]/2),U(t).y-(h[1]+h[3]/2));var c=n.length,l=c/(60*o);if(l*r<c&&Math.floor(l*r)<c-1){var u=Math.floor(l*r),f=l*r-u,d=[n[u][0],n[u][1]],p=[n[u+1][0],n[u+1][1]];a.translate(d[0]+(p[0]-d[0])*f,d[1]+(p[1]-d[1])*f)}else a.translate(n[c-1][0],n[c-1][1])}():void 0;if(2!=n)if(19!=n){if(3==n)return function(){0==r&&(M=q(),e.other.animDis=M);var t=M[0],n=M[1];switch(s){case 0:r?a.translate(0,n-n/(60*o)*r):a.translate(0,n);break;case 1:r?a.translate(t/(60*o)*r-t,0):a.translate(-t,0);break;case 2:r?a.translate(t-t/(60*o)*r,0):a.translate(t,0);break;case 3:r?a.translate(0,n/(60*o)*r-n):a.translate(0,-n);break;case 4:r?a.translate(t/(60*o)*r-t,n-n/(60*o)*r):a.translate(-t,n);break;case 5:r?a.translate(t-t/(60*o)*r,n-n/(60*o)*r):a.translate(t,n);break;case 6:r?a.translate(t/(60*o)*r-t,n/(60*o)*r-n):a.translate(-t,-n);break;case 7:r?a.translate(t-t/(60*o)*r,n/(60*o)*r-n):a.translate(t,-n)}}();if(26==n)return d=100,e.other.addTimes&&e.other.addTimes!=r&&a.translate(0,(d-d/(60*o)*r)*(60*o-e.other.addTimes)),a.globalAlpha=1/(60*o)*r,void(r?e.other.addTimes||a.translate(0,d-d/(60*o)*r):a.translate(0,d));if(9==n)return function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];switch(s){case 0:h?(a.rect(e,t,n,i/2/(60*o)*r),a.rect(e,t+i-i/2/(60*o)*r,n,i/2/(60*o)*r)):(a.rect(m-.5,y-.5,g+1,b/2/(60*o)*r+1),a.rect(m-.5,y+b-b/2/(60*o)*r-.5,g+1,b/2/(60*o)*r+1));break;case 1:h?a.rect(e,t+i/2-i/2/(60*o)*r,n,i/(60*o)*r):a.rect(m-.5,y+b/2-b/2/(60*o)*r-.5,g+1,b/(60*o)*r+1);break;case 2:h?(a.rect(e,t,n/2/(60*o)*r,i),a.rect(e+n-n/2/(60*o)*r,t,n/2/(60*o)*r,i)):(a.rect(m-.5,y-.5,g/2/(60*o)*r+1,b+1),a.rect(m+g-g/2/(60*o)*r-.5,y-.5,g/2/(60*o)*r+1,b+1));break;case 3:h?a.rect(e+n/2-n/2/(60*o)*r,t,n/(60*o)*r,i):a.rect(m+g/2-g/2/(60*o)*r-.5,y-.5,g/(60*o)*r+1,b+1)}a.clip()}();if(1==n)return function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];switch(s){case 0:h?a.rect(e,t+i-i/(60*o)*r,n,i/(60*o)*r):a.rect(m-.5,y+b-b/(60*o)*r-.5,g+1,b/(60*o)*r+1);break;case 1:h?a.rect(e,t,n/(60*o)*r,i):a.rect(m-.5,y-.5,g/(60*o)*r,b+1);break;case 2:h?a.rect(e+n-n/(60*o)*r,t,n/(60*o)*r,i):a.rect(m+g-g/(60*o)*r-.5,y-.5,g/(60*o)*r+1,b+1);break;case 3:h?a.rect(e,t,n,i/(60*o)*r):a.rect(m-.5,y-.5,g+1,b/(60*o)*r+1)}a.clip()}();if(18==n)return function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3],s=e+n/2,c=t+i/2,l=n/2,u=i/2;h?a.ellipse(s,c,(l*Math.sqrt(2)/(60*o)*r).toFixed(2),(u*Math.sqrt(2)/(60*o)*r).toFixed(2),0,0,2*Math.PI):a.ellipse(m+g/2,y+b/2,(g/Math.sqrt(2)/(60*o)*r).toFixed(2),(b/Math.sqrt(2)/(60*o)*r).toFixed(2),0,0,2*Math.PI),a.clip()}();if(8==n)return function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3],c=e+n/2,l=t+i/2,u=i>=n?i:n;else c=m+g/2,l=y+b/2,u=g>=b?g:b;switch(s){case 0:a.moveTo(c,l),a.arc(c,l,u,.5*-Math.PI,.5*-Math.PI+2*Math.PI/(60*o)*r,!1);break;case 1:a.moveTo(c,l),a.arc(c,l,u,.5*-Math.PI,.5*-Math.PI+Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,.5*Math.PI,.5*Math.PI+Math.PI/(60*o)*r,!1);break;case 2:a.moveTo(c,l),a.arc(c,l,u,.5*-Math.PI,.5*-Math.PI+2/3*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,Math.PI/6,Math.PI/6+2/3*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,5*Math.PI/6,5*Math.PI/6+2/3*Math.PI/(60*o)*r,!1);break;case 3:a.moveTo(c,l),a.arc(c,l,u,.5*-Math.PI,.5*-Math.PI+.5*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,0*Math.PI,0*Math.PI+.5*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,.5*Math.PI,.5*Math.PI+.5*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,1*Math.PI,1*Math.PI+.5*Math.PI/(60*o)*r,!1);break;case 4:a.moveTo(c,l),a.arc(c,l,u,0*Math.PI,0*Math.PI+.25*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,.25*Math.PI,.25*Math.PI+.25*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,.5*Math.PI,.5*Math.PI+.25*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,.75*Math.PI,.75*Math.PI+.25*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,1*Math.PI,1*Math.PI+.25*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,1.25*Math.PI,1.25*Math.PI+.25*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,1.5*Math.PI,1.5*Math.PI+.25*Math.PI/(60*o)*r,!1),a.moveTo(c,l),a.arc(c,l,u,1.75*Math.PI,1.75*Math.PI+.25*Math.PI/(60*o)*r,!1)}a.clip()}();if(15==n)return function(){var e=30,t=[0,8,4,5,2,9,3,6,7,1],n=[5,4,6,3,7,2,8,1,9,0],i=[9,1,2,8,0,7,3,5,4,6];if(a.beginPath(),h)var c=h[0],l=h[1],u=h[2],f=h[3];else c=m,l=y,u=g,f=b;switch(s){case 1:for(var d=Math.floor(r/(6*o)),p=0;p<e;p++)if(p%3==0)for(var v=0;v<d;v++)a.rect(c+p*u/e+t[v]*u/300,l,u/300,f);else if(p%3==1)for(var x=0;x<d;x++)a.rect(c+p*u/e+n[x]*u/300,l,u/300,f);else for(var k=0;k<d;k++)a.rect(c+p*u/e+i[k]*u/300,l,u/300,f);break;case 0:for(var P=Math.floor(r/(6*o)),T=0;T<e;T++)if(T%3==0)for(var w=0;w<P;w++)a.rect(c,l+T*f/e+t[w]*f/300,u,f/300);else if(T%3==1)for(var I=0;I<P;I++)a.rect(c,l+T*f/e+n[I]*f/300,u,f/300);else for(var M=0;M<P;M++)a.rect(c,l+T*f/e+i[M]*f/300,u,f/300)}a.clip()}();if(23==n)return function(){if(a.globalAlpha=1/(60*o)*r,h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var s=e+n/2,c=t+i/2;a.translate(s,c),a.rotate(Math.PI/4-Math.PI/4/(60*o)*r),a.translate(-s,-c),a.translate(s*(1-1/(60*o)*r),c*(1-1/(60*o)*r)),a.scale(1/(60*o)*r,1/(60*o)*r)}();if(21==n)return function(){if(a.globalAlpha=1/(60*o)*r,h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var s=e+n/2,c=t+i/2;a.translate(s*(1-(.5+.5/(60*o)*r)),c*(1-(.5+.5/(60*o)*r))),a.scale(.5+.5/(60*o)*r,.5+.5/(60*o)*r)}();if(20==n)return function(){var e;if(a.globalAlpha=1/(60*o)*r,h){var n=h[0];h[1];e=n+h[2]/2,h[3]}else e=U(t).x,U(t).y;0<r&&r<=20*o?r=20*o-r:20*o<r&&r<=40*o?r-=20*o:40*o<r&&r<=60*o&&(r=60*o-r),a.transform(1-2/(20*o)*r,0,0,1,e*(1-(1-2/(20*o)*r)),0)}();if(35==n)return function(){if(h){h[0];var e=h[1],t=(h[2],h[3])}else e=y,t=b;for(var n=e+t/2,i=s[1].pathPoints,c=[],l=0;l<i.length;l++)c.push([i[l],i[l+1]]),l++;var u=c.length,f=u/(60*o),d=Math.floor(f*r),p=f*r-d;if(f*r<u&&d<u-1){var v=[c[d][0],c[d][1]],m=[c[d+1][0],c[d+1][1]];a.translate(v[0]/3+(m[0]-v[0])*p,v[1]/3+(m[1]-v[1])*p),r>1&&d<u-1&&c[d][1]>=c[d+1][1]&&c[d][1]>=c[d-1][1]&&(a.translate(0,.2*n),a.scale(1,.8))}else a.translate(0,0)}();if(30==n)return e.other.addTimes&&e.other.addTimes!=r&&a.translate(0,(250/(60*o)*r-250)*(60*o-e.other.addTimes)),a.globalAlpha=1/(60*o)*r,void(r?e.other.addTimes||a.translate(0,250/(60*o)*r-250):a.translate(0,-250));if(38!=n)return 25==n?(250,a.translate(250/(60*o)*r-250,0),a.beginPath(),a.rect(m+g-g/(60*o)*r,y,60*o*r,b),void a.clip()):4==n?function(){if(a.beginPath(),h)var e=h[0],t=h[1],n=h[2],i=h[3];switch(s){case 0:h?(a.rect(e,t,n,i/2/(60*o)*r),a.rect(e,t+i-i/2/(60*o)*r,n,i/2/(60*o)*r),a.rect(e,t,n/2/(60*o)*r,i),a.rect(e+n-n/2/(60*o)*r,t,n/2/(60*o)*r,i)):(a.rect(m-.5,y-.5,g+1,b/2/(60*o)*r+1),a.rect(m-.5,y+b-b/2/(60*o)*r-.5,g+1,b/2/(60*o)*r+1),a.rect(m-.5,y-.5,g/2/(60*o)*r+1,b+1),a.rect(m+g-g/2/(60*o)*r-.5,y-.5,g/2/(60*o)*r+1,b+1));break;case 1:h?a.rect(e+n/2*(1-1/(60*o)*r),t+i/2*(1-1/(60*o)*r),n/(60*o)*r,i/(60*o)*r):a.rect(m+g/2*(1-1/(60*o)*r),y+b/2*(1-1/(60*o)*r),g/(60*o)*r,b/(60*o)*r)}a.clip()}():6==n?function(){var e=Math.floor(r/(3*o));switch(a.beginPath(),s){case 2:if(e<=10)for(var t=0;t<=20;t++)t<=2*e&&a.rect(m+t*g/20,y,g/20,(2*e-t)*b/20);else for(var n=0;n<=20;n++)n<2*(e-10)?a.rect(m+n*g/20,y,g/20,b):a.rect(m+n*g/20,y,g/20,b-b*(n+20-2*e)/20);break;case 0:if(e<=10)for(var i=0;i<=20;i++)i<=2*e&&a.rect(m+g-i*g/20,y,g/20,(2*e-i)*b/20);else for(var c=0;c<=20;c++)c<2*(e-10)?a.rect(m+g-c*g/20,y,g/20,b):a.rect(m+g-c*g/20,y,g/20,b-b*(c+20-2*e)/20);break;case 3:if(e<=10)for(var l=0;l<=20;l++)l<=2*e&&a.rect(m+l*g/20,y+b-(2*e-l)*b/20,g/20,(2*e-l)*b/20);else for(var h=0;h<=20;h++)h<2*(e-10)?a.rect(m+h*g/20,y,g/20,b):a.rect(m+h*g/20,y+b*(h+20-2*e)/20,g/20,b-b*(h+20-2*e)/20);break;case 1:if(e<=10)for(var u=0;u<=20;u++)u<=2*e&&a.rect(m+g-u*g/20,y+b-(2*e-u)*b/20,g/20,(2*e-u)*b/20);else for(var f=0;f<=20;f++)f<2*(e-10)?a.rect(m+g-f*g/20,y,g/20,b):a.rect(m+g-f*g/20,y+b*(f+20-2*e)/20,g/20,b-b*(f+20-2*e)/20)}a.clip()}():29==n?function(){if(h)var e=h[0],t=h[1],n=h[2],i=h[3];else e=m,t=y,n=g,i=b;var c=e+n/2,l=t+i/2,u=a.canvas.width/2.5-e-n/2,f=a.canvas.height/3-t-i/2;switch(s){case 0:a.translate(c*(1-(.5+.5/(60*o)*r)),l*(1-(.5+.5/(60*o)*r))),a.scale(.5+.5/(60*o)*r,.5+.5/(60*o)*r);break;case 1:a.translate(u*(1-(.3+.7/(60*o)*r)),f*(1-(.3+.7/(60*o)*r))),a.scale(.3+.7/(60*o)*r,.3+.7/(60*o)*r);break;case 2:a.translate(c*(1-(.8+.2/(60*o)*r)),(t+i)*(1-(.8+.2/(60*o)*r))),a.scale(.8+.2/(60*o)*r,.8+.2/(60*o)*r);break;case 3:a.translate(c*(1/(60*o)*r-1),l*(1/(60*o)*r-1)),a.scale(2-1/(60*o)*r,2-1/(60*o)*r);break;case 4:a.translate(0-c*(1-1/(60*o)*r),f*(1-1/(60*o)*r)),a.scale(2-1/(60*o)*r,2-1/(60*o)*r);break;case 5:a.translate(c*(.2/(60*o)*r-.2),l*(.2/(60*o)*r-.2)),a.scale(1.2-.2/(60*o)*r,1.2-.2/(60*o)*r)}}():14==n?function(){switch(a.beginPath(),s){case 0:a.rect(m,y,g/(120*o)*r,b/(120*o)*r),a.rect(m+g-g/(120*o)*r,y,g/(120*o)*r,b/(120*o)*r),a.rect(m,y+b-b/(120*o)*r,g/(120*o)*r,b/(120*o)*r),a.rect(m+g-g/(120*o)*r,y+b-b/(120*o)*r,g/(120*o)*r,b/(120*o)*r);break;case 1:a.rect(m,y+b/2-b/(120*o)*r,g,b/(60*o)*r),a.rect(m+g/2-g/(120*o)*r,y,g/(60*o)*r,b)}a.clip()}():11==n?function(){switch(a.beginPath(),s){case 0:a.translate(0,b-b/(60*o)*r),a.rect(m,y,g,b/(60*o)*r);break;case 1:a.translate(g/(60*o)*r-g,0),a.rect(m+g-g/(60*o)*r,y,g/(60*o)*r,b);break;case 2:a.translate(g-g/(60*o)*r,0),a.rect(m,y,g/(60*o)*r,b);break;case 3:a.translate(0,b/(60*o)*r-b),a.rect(m,y+b-b/(60*o)*r,g,b/(60*o)*r)}a.clip()}():7==n?function(){switch(a.beginPath(),s){case 1:a.moveTo(m+g/2-g/(60*o)*r,y+b/2),a.lineTo(m+g/2,y+b/2-b/(60*o)*r),a.lineTo(m+g-g/2+g/(60*o)*r,y+b/2),a.lineTo(m+g/2,y+b-b/2+b/(60*o)*r),a.lineTo(m+g/2-g/(60*o)*r,y+b/2),a.closePath();break;case 0:r/(60*o)<.5?(a.moveTo(m,y),a.lineTo(m+g/(60*o)*r,y),a.lineTo(m,y+b/(60*o)*r),a.lineTo(m,y),a.closePath(),a.moveTo(m+g,y),a.lineTo(m+g-g/(60*o)*r,y),a.lineTo(m+g,y+b/(60*o)*r),a.lineTo(m+g,y),a.closePath(),a.moveTo(m,y+b),a.lineTo(m,y+b-b/(60*o)*r),a.lineTo(m+g/(60*o)*r,y+b),a.lineTo(m,y+b),a.closePath(),a.moveTo(m+g,y+b),a.lineTo(m+g,y+b-b/(60*o)*r),a.lineTo(m+g-g/(60*o)*r,y+b),a.lineTo(m+g,y+b),a.closePath()):(a.moveTo(m,y),a.lineTo(m,y+b),a.lineTo(m+g,y+b),a.lineTo(m+g,y),a.lineTo(m,y),a.moveTo(m+g/2,y-b/2+b/(60*o)*r),a.lineTo(m+1.5*g-g/(60*o)*r,y+b/2),a.lineTo(m+g/2,y+1.5*b-b/(60*o)*r),a.lineTo(m-g/2+g/(60*o)*r,y+b/2),a.lineTo(m+g/2,y-b/2+b/(60*o)*r),a.closePath())}a.clip()}():12==n?void(r===60*o&&(a.globalAlpha=0)):0==n?function(){switch(a.beginPath(),s){case 0:for(var e=0;e<=5;e++)a.rect(m,y+b/6*e,g,b/6/(60*o)*r);break;case 1:for(var t=0;t<=5;t++)a.rect(m+g/6*t,y,g/6/(60*o)*r,b)}a.clip()}():5==n?function(){a.beginPath();var e=void 0;switch(s){case 0:e=700-y,a.translate(0,e-e/(60*o)*r),a.rect(m,y,g,b);break;case 1:e=m+g,a.translate(e/(60*o)*r-e,0),a.rect(m,y,g,b);break;case 2:e=900-m,a.translate(e-e/(60*o)*r,0),a.rect(m,y,g,b);break;case 3:e=y+b,a.translate(0,e/(60*o)*r-e),a.rect(m,y,g,b)}a.clip()}():10==n?function(){switch(a.beginPath(),s){case 0:for(var e=0;e<=11;e++)for(var t=0;t<=5;t++)(e+t)%2==0?30*o-r>0?a.rect(m+g/12*e,y+b/6*t,g/12/(30*o)*r,b/6):a.rect(m+g/12*e,y+b/6*t,g/12,b/6):30*o-r<0&&a.rect(m+g/12*e,y+b/6*t,g/12/(30*o)*(r-30*o),b/6);break;case 1:for(var n=0;n<=5;n++)for(var i=0;i<=11;i++)(n+i)%2==0?30*o-r>0?a.rect(m+g/6*n,y+b/12*i,g/6,b/12/(30*o)*r):a.rect(m+g/6*n,y+b/12*i,g/6,b/12):30*o-r<0&&a.rect(m+g/6*n,y+b/12*i,g/6,b/12/(30*o)*(r-30*o))}a.clip()}():13==n?(F=m+g/2,_=y+b/2,a.beginPath(),a.moveTo(F,_),a.arc(F,_,(b+g)/2,.5*-Math.PI-Math.PI/(60*o)*r,.5*-Math.PI+Math.PI/(60*o)*r),a.closePath(),void a.clip()):17==n?function(){var e=Math.floor(r/(3*o)),t=Math.floor(g/60)+1,n=Math.floor(b/20)+1;a.beginPath();for(var i=0;i<t;i++)for(var s=0;s<n;s++)for(var c=1;c<=e;c++)switch(c){case 1:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 2:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 3:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 4:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 5:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 6:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 7:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 8:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 9:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 10:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 11:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 12:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 13:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 14:a.rect(m+g/t*i+g/t/5*0,y+b/n*s+b/n/4*3,g/t/5,b/n/4);break;case 15:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 16:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*0,g/t/5,b/n/4);break;case 17:a.rect(m+g/t*i+g/t/5*4,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 18:a.rect(m+g/t*i+g/t/5*1,y+b/n*s+b/n/4*2,g/t/5,b/n/4);break;case 19:a.rect(m+g/t*i+g/t/5*2,y+b/n*s+b/n/4*1,g/t/5,b/n/4);break;case 20:a.rect(m+g/t*i+g/t/5*3,y+b/n*s+b/n/4*3,g/t/5,b/n/4)}a.clip()}():16==n?function(){var n=void 0;if(S.randomNum)n=S.randomNum;else{var d=S.randomList.length-1;n=S.randomNum=S.randomList[Math.floor(Math.random()*(d-0))+0]}S.animHandler(e,t,a,r,n,i,o,s,c,l,h,u,f),r===60*o*r&&(S.randomNum=void 0)}():22==n?(a.globalAlpha=1/(60*o)*r,a.translate((.5-.5/(60*o)*r)*(m+g/2),0),void a.scale(.5+.5/(60*o)*r,1)):33==n?(a.globalAlpha=1/(60*o)*r,void a.translate((.5/(60*o)*r-.5)*g,0)):void 0;var A,C,R,O,N,j,L,D,E,F,_}else a.globalAlpha=r/(60*o);function G(){h?(a.globalAlpha=r<=30*o?1-1.8/(60*o)*r:.1+.9/(60*o)*r,a.translate(h[0]*(1-(r<=30*o?1+1/90*r:1+1/90*(60*o-r))),h[1]*(1-(r<=30*o?1+1/90*r:1+1/90*(60*o-r)))),a.scale(r<=30*o?1+1/90*r:1+1/90*(60*o-r),r<=30*o?1+1/90*r:1+1/90*(60*o-r))):(a.globalAlpha=r<=30*o?1-1.8/(60*o)*r:.1+.9/(60*o)*r,a.translate(U(t).x*(1-(r<=30*o?1+1/90*r:1+1/90*(60*o-r))),U(t).y*(1-(r<=30*o?1+1/90*r:1+1/90*(60*o-r)))),a.scale(r<=30*o?1+1/90*r:1+1/90*(60*o-r),r<=30*o?1+1/90*r:1+1/90*(60*o-r)))}function z(){a.globalAlpha=1-1/(60*o)*r}function q(){return 0==s?[0,k>=y?I-y:I-k]:1==s?[m+g>=x+P?m+g:x+P,0]:2==s?[x>=m?w-m:w-x,0]:3==s?[0,k+T>=y+b?k+T:y+b]:4==s?[m+g>=x+P?m+g:x+P,k>=y?I-y:I-k]:5==s?[x>=m?w-m:w-x,k>=y?I-y:I-k]:6==s?[m+g>=x+P?m+g:x+P,k+T>=y+b?k+T:y+b]:7==s?[x>=m?w-m:w-x,k+T>=y+b?k+T:y+b]:[0,k>=y?I-y:I-k]}function U(e){var t=Object.create(null);return e.shapeRect?(t.x=e.shapeRect.x+e.shapeRect.width/2,t.y=e.shapeRect.y+e.shapeRect.height/2):e.textRect&&(t.x=e.textRect.x+e.textRect.width/2,t.y=e.textRect.y+e.textRect.height/2),t}}}]),e}()},274:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=t.AnimationContext=function(){function e(){r(this,e)}return a(e,[{key:"reset",value:function(e,t,a){this.g=t,this.slide=e,this.count=0,this.animInfo=a,this.shape=a.shape}}]),e}();t.AnimationManager=function(){function e(t){var a=this;r(this,e),this.currAnimationData=[],this.speed=1,this._onPageChange=function(e){a._resetAnimationState({animPosition:e.animPosition})},this._onAnimationListChange=function(e){e&&a.currPage&&e.index===a.currPage.index&&void 0===a.currentAnimIndex&&a._jumpTo({animIndex:a.currentAnimIndex||0,animState:a.animState||"start"},!0)},this.pgReader=t,this.pgReader.on("pageChange",this._onPageChange),this.pgReader.on("animationListChange",this._onAnimationListChange)}return a(e,[{key:"setCurrentAnimationIndex",value:function(e){this.currentAnimIndex=e}},{key:"isCurrPageReady",value:function(){return this.pgReader.isPageReady(this.pgReader.currPageIndex)}},{key:"isDuringAnimation",value:function(){return"inAnim"===this.animState}},{key:"hasNextAnimation",value:function(){return!(0===this.animationList.length||this.currentAnimIndex>=this.animationList.length||this.currentAnimIndex===this.animationList.length-1&&"end"===this.animState)}},{key:"hasPreAnimation",value:function(){return!(0===this.animationList.length||this.currentAnimIndex<0||0===this.currentAnimIndex&&"start"===this.animState)}},{key:"getCurrentAnimationPosition",value:function(){return{animIndex:this.currentAnimIndex?this.currentAnimIndex:0,animState:this.animState?this.animState:"start"}}},{key:"isFirstPosPrevSecondPos",value:function(e,t){return e.animIndex+("start"===e.animState?0:1)<t.animIndex+("start"===t.animState?0:1)}},{key:"gotoAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.clearAnimation(),this.isCurrPageReady()?t||!this.isFirstPosPrevSecondPos(this.getCurrentAnimationPosition(),e)||this.animationDest&&!this.isFirstPosPrevSecondPos(this.animationDest,e)?(this.animationDest=void 0,this._jumpTo(e)):this.animationDest?(this._jumpTo(this.animationDest),this.animationDest=e,this._animateTo()):(this.animationDest=e,this._animateTo()):(this.animationDest=void 0,this._jumpTo(e))}},{key:"getFirstAnimationPosition",value:function(e){if(!this.isCurrPageReady())return{animIndex:0,animState:"start"};for(var t=this.pgReader.doc.pages[e.pageIndex].animation,a=0;a<t.length;a++){var r=t[a];if(Array.isArray(r)&&r.length>0&&(r=r[0]),0===r.startCondition)break;if(2===r.startCondition&&e.stopOnContinuousAnimation)break}return{animIndex:a,animState:"start"}}},{key:"getNextAnimationPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stopOnContinuousAnimation:!1};if(!this.isCurrPageReady())return null;if(this.hasNextAnimation()){var t=this.getCurrentAnimationPosition();if("inAnim"===this.animState&&e.stopOnContinuousAnimation){var a=Math.min(this.animationList.length-1,t.animIndex+2);return{animIndex:a,animState:"end"}}if(e.stopOnContinuousAnimation)return{animIndex:Math.min(this.animationList.length-1,t.animIndex+1),animState:t.animState};var r=this.animationList,n=t.animIndex+("start"===t.animState?0:1)+1;for("inAnim"===t.animState&&this.animationDest&&(n=Math.max(n,this.animationDest.animIndex+("start"===this.animationDest.animState?1:2)));n<r.length&&(!r[n]||!r[n][0]||2===r[n][0].startCondition);n++);return{animIndex:n,animState:"start"}}return null}},{key:"getPrevAnimationPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stopOnContinuousAnimation:!1};if(!this.isCurrPageReady())return null;if(this.hasPreAnimation()){var t=this.getCurrentAnimationPosition();if(e.stopOnContinuousAnimation)return{animIndex:t.animIndex-1,animState:t.animState};for(var a=this.animationList,r=t.animIndex+("start"===t.animState?0:1)-1;r>0&&(!a[r]||!a[r][0]||2===a[r][0].startCondition);r--);return{animIndex:r,animState:"start"}}return null}},{key:"clearAnimation",value:function(){clearTimeout(this.delayAnimationTimer),cancelAnimationFrame(this.animationTimer)}},{key:"_jumpTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.animationDest=void 0,this.setCurrentAnimationIndex(e.animIndex),this.animState=e.animState;for(var a=e.animIndex+("start"===e.animState?0:1),r=0;r<this.animationList.length;r++){var i=r<a?2:0,o=!0,s=!1,c=void 0;try{for(var l,h=this.animationList[r][Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var u=l.value;if(u.animationState=i,1===u.animType||3===u.animType){var f=new n;f.reset(this.inAnimationPage,this.pgReader.g,u),u.stressContent=f}}}catch(e){s=!0,c=e}finally{try{!o&&h.return&&h.return()}finally{if(s)throw c}}}t&&this.pgReader.paint()}},{key:"_resetAnimationState",value:function(e){if(this.animationDest=void 0,this.currPage){"start"===e.animPosition?(this.setCurrentAnimationIndex(0),this.animState="start"):(this.setCurrentAnimationIndex(Math.max(this.animationList.length,0)),this.animState="end");var t=!0,a=!1,r=void 0;try{for(var n,i=this.animationList[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=n.value,s=!0,c=!1,l=void 0;try{for(var h,u=o[Symbol.iterator]();!(s=(h=u.next()).done);s=!0)h.value.animationState="start"===e.animPosition?0:2}catch(e){c=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(c)throw l}}}}catch(e){a=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw r}}}else console.error("无法获取当前页面，页面索引为: "+this.pgReader.currPageIndex)}},{key:"_animateTo",value:function(){var e=this;if(this.hasNextAnimation()){this.currentAnimIndex=void 0===this.currentAnimIndex?0:this.currentAnimIndex,this.currAnimationData=[],"end"===this.animState&&(this.setCurrentAnimationIndex(this.currentAnimIndex+1),this.animState="start");var t=this.animationList[this.currentAnimIndex],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;c.animationState=0;var l=new n;l.reset(this.inAnimationPage,this.pgReader.g,c),this.currAnimationData.push(l),1!==c.animType&&3!==c.animType||(c.stressContent=l),this.currentAnimIndex===this.animationList.length-1&&4===c.effectAfterPlay?this.isEffectAfterPlay=!0:this.isEffectAfterPlay=!1}}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}this.delayAnimationTimer=window.setTimeout((function(){e._play(e.speed)}),0)}}},{key:"playAtState",value:function(e){for(var t=0;t<this.currAnimationData.length;t++){var a=this.currAnimationData[t],r=a.animInfo,n=Math.ceil(60*r.endTime),i=Math.ceil(60*(r.startTime||0));a.count=Math.max(-1,e-i),a.count=Math.min(a.count,n),a.count>=n?r.animationState=2:a.count>=0?r.animationState=1:r.animationState=0}this.pgReader.paint(!1,this.currAnimationData)}},{key:"_play",value:function(e){var t=this;if(this.animState="inAnim",this.currAnimationData){for(var a=!1,r=!1,n=0;n<this.currAnimationData.length;n++){var i=this.currAnimationData[n],o=i.animInfo,s=Math.ceil(60*o.endTime);i.count>=s?o.animationState=2:i.count>=0?o.animationState=1:o.animationState=0,i.count<s&&(r=!0)}r?this.pgReader.paint(!1,this.currAnimationData):(cancelAnimationFrame(this.animationTimer),this.animationTimer=requestAnimationFrame((function(){t.pgReader.paint()})));for(var c=0;c<this.currAnimationData.length;c++){var l=this.currAnimationData[c],h=l.animInfo,u=Math.ceil(60*h.endTime),f=Math.ceil(60*(h.startTime||0));l.count<u-.01&&(a=!0),l.count=Math.max(-1,e-f),l.count=Math.min(l.count,u)}a?(cancelAnimationFrame(this.animationTimer),this.animationTimer=requestAnimationFrame((function(){t._play(e+t.speed)}))):(this.animState="end",this.animationDest&&this.hasNextAnimation()&&this.isFirstPosPrevSecondPos(this.getCurrentAnimationPosition(),this.animationDest)?this._animateTo():this.animationDest=void 0,this.animationList[this.currentAnimIndex-1]&&3===this.animationList[this.currentAnimIndex-1][0].effectAfterPlay&&(this.delayAnimationTimer=setTimeout((function(){t.pgReader.paint()}),200)))}else this.animState="end"}},{key:"animationList",get:function(){return this.currPage&&Array.isArray(this.currPage.animation)?this.currPage.animation:[]}},{key:"currPage",get:function(){return this.pgReader.currPage}}]),e}()},678:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PgReader=void 0;var r=p(a(754)),n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=p(a(75)),o=a(254),s=a(233),c=a(812),l=a(274),h=a(357),u=p(a(13)),f=a(310),d=p(f);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},b=1,x={symbol:"oelx5YG2zdLMi0rcuNW7",mtextra:"5NID1zjbXr9QnToO3fWs",webdings:"E5a10pMvmyJnBIcLPVW4",wingdings:"VFPprHgOLcXhfK6Uz92e","windings 2":"2S3JsTxCqaLQWEDeU1ZY","windings 3":"LQRDBd04orz5kWmYpUci"};(t.PgReader=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,t);var a=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.canvasWidth=100,a.canvasHeight=100,a.zoom=1,a.resPrefixArr=[],a.currPageIndex=0,a.loadingImage=new Image,a.canvasGifIdsToKeep=new Set,a.pageCount=0,a.loadedImages=new Map,a.pageJsonLoaded=new Set,a.pageImgToDownload=new Map,a.loadVideo=!1,a.controlVideo=!1,a.nearestRange=3,a.lastPreUrl="",a._waitTilPageReady=function(e,t){return e=Number(e),isNaN(e)?(console.error("waitTilPageReady的参数不是有效的页码"),Promise.reject()):a.isPageReady(e)?Promise.resolve():(a.preloadPages(e),new Promise((function(r,n){var i=void 0,o=function t(n,o){"pageLoaded"===n&&o===e&&(clearTimeout(i),a.off("event:pptState:change",t),r())};a.on("event:pptState:change",o),clearTimeout(i),i=setTimeout((function(){console.error("page: "+e+"加载超时，请重试"),a.off("event:pptState:change",o),n()}),(null==t?void 0:t.timeout)||6e3)})))},a.waitTilImgReady=function(e,t){return a.isPageImgReady(e)?Promise.resolve():new Promise((function(r,n){var i=void 0,o=function t(n,o){if("pageImgLoaded"===n&&o===e)return clearTimeout(i),a.off("event:pptState:change",t),r()};a.on("event:pptState:change",o),clearTimeout(i),i=setTimeout((function(){var t=a.pageImgToDownload.get(e)||[];if(a.off("event:pptState:change",o),0===t.length)return r();console.error("images of page: "+e+"加载超时，请重试","img to download",t.join(",")),n()}),(null==t?void 0:t.timeout)||2e3)}))},a.player=new c.Animation(a),a.isMobile=!1,a.paraIdMin=0,a.docIndex=b++,a.animationManager=new l.AnimationManager(a),a.backgroundColor="rgba(0,0,0,0)",a.loadingImage.src=u.default,a.loadingImage.crossOrigin="anonymous",a.fontDownloadPrefix=e.fontDownloadPrefix||"https://wb.vod.126.net/courseware/pptview/fonts/",a.loadVideo=e.loadVideo,a.controlVideo=e.controlVideo,document.addEventListener("fullscreenchange",(function(e){a.fullStateListener()})),document.addEventListener("webkitfullscreenchange",(function(e){a.fullStateListener()})),document.onmsfullscreenchange=function(e){a.fullStateListener()},window.addEventListener("resize",a.resizeWindow),window.addEventListener("orientationchange",a.resizeWindow),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"destroy",value:function(){this.container&&this.removeElementsInContainer(this.container),this.animationManager.clearAnimation(),d.default.stopDownloadResourceOfDoc(this.docIndex),this.removeAllListeners(),window.removeEventListener("resize",this.resizeWindow),window.removeEventListener("orientationchange",this.resizeWindow),this._ro&&this._ro.disconnect()}},{key:"setAnimSpeed",value:function(e){this.animationManager.speed=e}},{key:"updateContainer",value:function(e){var t,a=this;e&&e===this.container||(e?(this.container&&this.removeElementsInContainer(this.container),this.container=e,this.appendElementsInContainer(e),this.resizeWindow(),this._ro&&(this._ro.disconnect(),this._ro=void 0),window.ResizeObserver&&(this._ro=new window.ResizeObserver((function(e,t){a.resizeWindow(!0)})),null===(t=this._ro)||void 0===t||t.observe(e))):(this.parentWidth=100,this.parentHeight=100))}},{key:"getFirstAnimationPosition",value:function(e){return this.animationManager.getFirstAnimationPosition({pageIndex:e,stopOnContinuousAnimation:!1})}},{key:"waitTilPageReady",value:function(e,t){var a=this;return this._waitTilSummaryReady().then((function(){return a._waitTilPageReady(e,t)}))}},{key:"_waitTilSummaryReady",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;return this.doc?Promise.resolve():new Promise((function(a,r){var n=void 0,i=function(e){"indexLoaded"===e&&(clearTimeout(n),a())};e.on("event:pptState:change",i),clearTimeout(n),n=setTimeout((function(){console.error("waitTilSummaryReady 加载超时"),e.off("event:pptState:change",i),r()}),t||6e3)}))}},{key:"isPageReady",value:function(e){return this.pageJsonLoaded.has(e)}},{key:"isPageImgReady",value:function(e){var t=this.pageImgToDownload.get(e);return this.isPageReady(e)&&t&&0===t.length}},{key:"hasNextPage",value:function(){return this.currPageIndex<this.pageCount-1}},{key:"hasPrevPage",value:function(){return this.currPageIndex>0}},{key:"hasPage",value:function(e){return e===Math.round(e)&&e>=0&&e<this.pageCount}},{key:"gotoPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{animPosition:"start"};if(e=Number(e),isNaN(e))console.error("gotoPage index is NaN");else if(this.pageCount>0&&this.preloadPages(e),0===this.pageCount)this.currPageIndex=e;else{if(!this.hasPage(e))return console.warn("gotoPage: 页面"+e+"不存在");(0,h.removeElementsByClassName)("ppt-audio"),this.currPageIndex=e,this.emit("pageChange",t),this.paint(),this.maskg.clearRect(0,0,this.canvasWidth,this.canvasHeight)}}},{key:"nextPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{animPosition:"end"};this.hasNextPage()?this.gotoPage(this.currPageIndex+1,e):console.warn("nextPage: 已经是最新一页: "+this.currPageIndex)}},{key:"prevPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{animPosition:"end"};this.hasPrevPage()?this.gotoPage(this.currPageIndex-1,e):console.warn("prevPage: 已经是第一页: "+this.currPageIndex)}},{key:"getCurrPageIndex",value:function(){return this.currPageIndex}},{key:"setVideoState",value:function(e){e.page,this.currPageIndex}},{key:"getAnimationLengthOfPage",value:function(e){if(this.doc&&this.doc.pages){var t=this.doc.pages[e];return t&&Array.isArray(t.animation)?t.animation.length:0}return 0}},{key:"open",value:function(e,t){return g(this,void 0,void 0,r.default.mark((function a(){var n,i,o=this;return r.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.lastPreUrl||this.lastPreUrl===e){a.next=4;break}return a.abrupt("return",Promise.reject("上一次open函数preUrl地址为: "+this.lastPreUrl+"\n\n 当前preUrl为: "+e+"。\n\n 如果需要加载两个不同的ppt，请创建两个PgReader"));case 4:if(!this.lastPreUrl||this.lastPreUrl!==e){a.next=6;break}return a.abrupt("return",Promise.resolve());case 6:return n=(0,h.parseUrl)(e),i=((null==t?void 0:t.backupResultUrls)||[]).map((function(e){return(0,h.parseUrl)(e)})).map((function(e){return e.resPrefix})),this.resPrefixArr=[n.resPrefix].concat(i),a.abrupt("return",new Promise((function(a,r){var n=void 0;clearTimeout(n),n=setTimeout((function(){console.error("ppt文档加载超时，请重试"),r()}),(null==t?void 0:t.timeout)||2e4),d.default.loadRes({urlPath:"index.json",resPrefixArr:o.resPrefixArr,type:"summaryJson",docIndex:o.docIndex,pageIndex:-1},{overwriteCb:!1,callback:function(r){if(r&&Array.isArray(r.attr)){var i=function(e){if(e&&e.font){var t=e.font.toLowerCase();t.startsWith("'")&&t.endsWith("'")&&(t=t.slice(1,t.length-1)),x[t]&&(e.font=x[t],d.default.loadRes({urlPath:'url("'+o.fontDownloadPrefix+e.font+'.ttf")',type:"font",docIndex:o.docIndex,pageIndex:-1,payload:{fontName:e.font}},{callback:function(){o.g&&(o.g.font="12px "+e.font,o.g.fillStyle="rgba(0,0,0,0)",o.g.fillText(" ",0,0)),o.paint()}}))}},s=!0,c=!1,l=void 0;try{for(var h,u=r.attr[Symbol.iterator]();!(s=(h=u.next()).done);s=!0)i(h.value)}catch(e){c=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(c)throw l}}}o.calcModelSize(r,t),o.updatePageCount(r.pageCount),o.emit("event:pptState:change","indexLoaded",{pageCount:r.pageCount,docWidth:o.docWidth,docHeight:o.docHeight}),clearTimeout(n),o.lastPreUrl=e,a()}})})));case 10:case"end":return a.stop()}}),a,this)})))}},{key:"enterFullScreen",value:function(){var e=document.getElementById("wrapper");if(this.isInFullScreenMode)console.warn("enterFullScreen: 已经处于全屏状态");else{(0,h.removeElementsByClassName)("ppt-audio",!0),(0,h.removeElementsByClassName)("canvasGif");var t=e.webkitRequestFullScreen||e.requestFullScreen||e.mozRequestFullScreen;document.body.msRequestFullscreen?document.body.msRequestFullscreen.call(e):t.call(e)}}},{key:"exitFullScreen",value:function(){if(this.isInFullScreenMode){var e=document.mozCancelFullScreen||document.exitFullscreen||document.webkitExitFullscreen;document.msExitFullscreen?document.msExitFullscreen.call(document):e.call(document)}else console.warn("exitFullScreen: 已经退出了全屏状态")}},{key:"getNextAnimationPosition",value:function(e){return this.animationManager.getNextAnimationPosition(e)}},{key:"getPrevAnimationPosition",value:function(e){return this.animationManager.getPrevAnimationPosition(e)}},{key:"gotoAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.animationManager.gotoAnimation(e,t)}},{key:"hasNextAnimation",value:function(){return this.animationManager.hasNextAnimation()}},{key:"hasPrevAnimation",value:function(){return this.animationManager.hasPreAnimation()}},{key:"paintOnCanvas",value:function(e){this.paint(!1,void 0,Object.assign(Object.assign({},e),{skipClear:!0}))}},{key:"updatePageCount",value:function(e){this.pageCount=e,this.currPageIndex>=e&&(this.currPageIndex=0)}},{key:"removeElementsInContainer",value:function(e){var t,a=e.querySelector("[id='dcs-pgreader-wrapper']");a&&(null===(t=a.parentNode)||void 0===t||t.removeChild(a))}},{key:"appendElementsInContainer",value:function(e){var t=this.readerWrapper=document.createElement("div");t.id="dcs-pgreader-wrapper",Object.assign(t.style,{background:this.backgroundColor,position:"absolute",left:0,right:0,top:0,bottom:0});var a=this.canvas=(0,h.createCanvas)(this.canvasWidth,this.canvasHeight);a.style.background=this.backgroundColor,this.g=a.getContext("2d");var r=this.canvasWrapper=document.createElement("div");r.id="dcs-pgreader-canvaswrapper",Object.assign(r.style,{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),Object.assign(a.style,{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),r.appendChild(a);var n=this.mask=(0,h.createCanvas)(this.canvasWidth,this.canvasHeight);this.maskg=n.getContext("2d"),Object.assign(n.style,{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"}),r.appendChild(n),t.appendChild(r),e.appendChild(t)}},{key:"resizeWindow",value:function(){var e=this;if(this.container&&this.doc){this.parentWidth=this.container.offsetWidth,this.parentHeight=this.container.offsetHeight;var t=this.isInFullScreenMode?window.innerWidth:this.parentWidth,a=this.isInFullScreenMode?window.innerHeight:this.parentHeight;t/a>this.docWidth/this.docHeight?t=this.docWidth/this.docHeight*a:a=this.docHeight/this.docWidth*t,this.zoom=t/this.docWidth,this.canvasWidth=t,this.canvasHeight=a,this.resizeCanvas(t,a),requestAnimationFrame((function(){e.paint()}))}}},{key:"resizeCanvas",value:function(e,t){this.canvasWrapper&&Object.assign(this.canvasWrapper.style,{width:e+"px",height:t+"px"}),this.viewHeight=t,this.canvasWidth=e,this.canvasHeight=t;var a=this.canvas,r=this.mask;a.width=2*e,a.height=2*this.canvasHeight,this.g.setTransform(2,0,0,2,0,0),a.style.width=e+"px",a.style.height=this.canvasHeight+"px",r.width=a.width,r.height=a.height,this.maskg.setTransform(2,0,0,2,0,0),r.style.width=a.style.width,r.style.height=a.style.height}},{key:"calcModelSize",value:function(e,t){if(e.ref){var a=e.refById=Object.create(null),r=!0,n=!1,i=void 0;try{for(var o,c=e.ref[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;a[l.id]=l}}catch(e){n=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw i}}}e.refById||(e.refById=Object.create(null));var h=e.attrById=Object.create(null),u=!0,f=!1,d=void 0;try{for(var p,v=e.attr[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var m=p.value;h[m.id]=m}}catch(e){f=!0,d=e}finally{try{!u&&v.return&&v.return()}finally{if(f)throw d}}var y=e.pagesize,g=y.width,b=y.height,x=g,k=Object.create(null);if(y.special){var P=!0,T=!1,w=void 0;try{for(var I,M=y.special[Symbol.iterator]();!(P=(I=M.next()).done);P=!0){var S=I.value;k[S.index]=S,x<S.width&&(x=S.width)}}catch(e){T=!0,w=e}finally{try{!P&&M.return&&M.return()}finally{if(T)throw w}}}for(var A=0,C=e.pageCount,R=s.WpConst.PageGap,O=R,N=e.pages=[],j=0;j<C;j++){var L=Object.create(null);L.index=j,k[j]?(L.width=k[j].width,L.height=k[j].height):(L.width=g,L.height=b),A+=L.height+R,N[j]=L,L.y=O,L.x=(x-L.width)/2,O+=L.height+R}e.maxPageWidth=x,e.docHeight=A,this.doc=e,this.isCopy=!e.param.antiCopy,this.resizeWindow(1),this.pageLoadMode=t?t.mode:"nearest",t&&"nearest"===t.mode&&(this.nearestRange=t.k||3),this.preloadPages(this.currPageIndex||0)}},{key:"preloadPages",value:function(e){return g(this,void 0,void 0,r.default.mark((function t(){var a,n,i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.doc.pages,"eager"===this.pageLoadMode)for(n=0;n<a.length;n++)this.loadPageData(a[n]);else if("lazy"===this.pageLoadMode)this.loadPageData(a[e]);else if("nearest"===this.pageLoadMode)for(this.loadPageData(a[e]),i=1;i<=this.nearestRange;i++)e-i>=0&&this.loadPageData(a[e-i]),e+i<a.length&&this.loadPageData(a[e+i]);else console.error("Cannot parse your page load mode, it should either be eager, lazy, or nearest");case 2:case"end":return t.stop()}}),t,this)})))}},{key:"loadPageData",value:function(e){var t=this;this.isPageReady(e.index)||d.default.loadRes({resPrefixArr:this.resPrefixArr,urlPath:"/"+e.index+".json",pageIndex:e.index,docIndex:this.docIndex,type:"pageJson"},{callback:function(a){t.pageJsonLoaded.add(e.index),t.emit("event:pptState:change","pageLoaded",e.index),t.parsePageData(e,a),t.repaintPage(e)}})}},{key:"paint",value:function(e,t,a){a||d.default.setEnvironment({activeDoc:this.docIndex,activePage:this.currPageIndex});var r=a?a.ctx:this.g,n=a&&this.canvas?a.ctx.canvas.width/this.canvas.width:1;if(this.doc&&this.doc.pages){var i,o=a?a.pageIndex:this.currPageIndex,s=this.doc.pages[o];if(!s||!this.isPageReady(s.index))return this.paintBlankImage(r,a,n);if(a&&a.skipClear||r.clearRect(0,0,3*r.canvas.width,3*r.canvas.height),r.save(),r.setTransform(2*this.zoom*n,0,0,2*this.zoom*n,0,0),a&&a.transforms&&r.transform.apply(r,v(a.transforms)),r.lineWidth=1,i=(this.viewHeight/this.zoom-this.doc.pagesize.height)/2,r.fillStyle="#FFFFFF",r.strokeStyle="#CECECE",r.fillRect(s.x,i,s.width,s.height),r.strokeRect(s.x,i,s.width,s.height),r.fillStyle="black",r.beginPath(),r.rect(s.x,i,s.width,s.height),r.clip(),r.translate(s.x,i),!e){var c=!a||!a.hasOwnProperty("keepAnimState")||a.keepAnimState;this.paintPage(r,s,t,!!a,c)}r.restore()}}},{key:"paintBlankImage",value:function(e,t,a){var r=this.loadingImage;r&&r.complete&&r.width>0&&r.height>0&&(e.save(),e.setTransform(2*this.zoom*a,0,0,2*this.zoom*a,0,0),t&&t.transforms&&e.transform.apply(e,v(t.transforms)),e.drawImage(r,0,0,this.canvas.width/2,this.canvas.height/2),e.restore())}},{key:"paintPage",value:function(e,t,a,r,n){var i=this.player;this.canvasGifIdsToKeep.clear();var o=!0,s=!1,c=void 0;try{for(var l,u=t.layers[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var f=l.value,d=!0,p=!1,v=void 0;try{for(var m,y=f[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var g=m.value;if(!r||n){if(void 0===g.ref||(g=this.doc.refById[g.ref]))if(g.shapeID){var b=[],x=void 0,k=!0,P=!1,T=!1,w=-1,I=1/0;if(this.animationManager.currPage.index===t.index){var M=this.animationManager.getCurrentAnimationPosition();I=M.animIndex+("start"===M.animState?-1:0)}var S=!0,A=!1,C=void 0;try{for(var R,O=t.animation[Symbol.iterator]();!(S=(R=O.next()).done);S=!0){var N=R.value;if(w+=1,P)break;if(T&&N.length>0&&0===N[0].animationState)break;var j=!1,L=!0,D=!1,E=void 0;try{for(var F,_=N[Symbol.iterator]();!(L=(F=_.next()).done);L=!0){var G=F.value;if(g.shapeID===G.shapeID){if(1===G.animState&&(P=!0),!g.meta&&G.hasOwnProperty("newParaIdx"))continue;if(g.meta&&G.skipPara)continue;if(Number(G.paraIdx)>=0&&g.meta&&g.meta[2]!==G.newParaIdx)continue;if(-1===G.animTargetType&&-1===G.paraIdx&&0===g.t&&4===g.meta.length&&0!==g.meta[1]&&!G.isGroup||G.paraIdx>=0&&0!==g.t&&!g.hyperlinkType)continue;T=!0;var z=0===G.animType&&(-1!==[3,35,45].indexOf(G.animIdx)||G.emphAttr&&Array.isArray(G.emphAttr.pathPoints));if(2===G.animType&&(j=!0),0===G.animType&&j)continue;if(0===G.animationState){0===G.animType&&(k=!1);continue}1===G.animationState?(k=!1!==k||0===G.animType,z&&(x=void 0)):2===G.animationState&&(3===G.effectAfterPlay||4===G.effectAfterPlay&&I>w||0===G.animType&&12===G.animIdx?k=!1:0===G.animType?(k=!0,z&&(x=void 0)):(2===G.animType||G.isBackAfterPlay)&&(k=!1)),1===G.animType?G.stressContent&&(2===G.animationState&&G.stressContent&&(G.stressContent.count=60*G.stressContent.animInfo.endTime),b.push(G.stressContent)):3===G.animType?(2===G.animationState&&G.stressContent&&(G.stressContent.count=60*G.stressContent.animInfo.endTime),G.stressContent&&G.stressContent.count>=0&&(x=G.stressContent)):1===G.animationState&&a&&a[G.oldParaIdx]&&a[G.oldParaIdx].animInfo.shapeID===g.shapeID&&b.push(a[G.oldParaIdx])}}}catch(e){D=!0,E=e}finally{try{!L&&_.return&&_.return()}finally{if(D)throw E}}}}catch(e){A=!0,C=e}finally{try{!S&&O.return&&O.return()}finally{if(A)throw C}}if(k){e.save(),x&&i.play(x,e);var q=!0,U=!1,B=void 0;try{for(var W,H=b[Symbol.iterator]();!(q=(W=H.next()).done);q=!0){var Q=W.value;Q&&i.play(Q,e)}}catch(e){U=!0,B=e}finally{try{!q&&H.return&&H.return()}finally{if(U)throw B}}this.switchPaintType(e,t,g),e.restore()}}else this.switchPaintType(e,t,g,{isThumbnail:r})}else this.switchPaintType(e,t,g,{isThumbnail:r})}}catch(e){p=!0,v=e}finally{try{!d&&y.return&&y.return()}finally{if(p)throw v}}}}catch(e){s=!0,c=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw c}}r||(0,h.removeElementsByClassNameAndExcludeCertainIds)("canvasGif",this.canvasGifIdsToKeep)}},{key:"switchPaintType",value:function(e,t,a,r){switch(a.t){case s.ObjType.Text:this.paintText(e,t,a);break;case s.ObjType.Image:this.paintImage(e,t,a,r);break;case s.ObjType.Path:this.paintPath(e,t,a)}}},{key:"paintText",value:function(e,t,a){var r=a.v+"";""==r&&(r=" "),e.save();var n=this.doc.attrById[a.aid||0];n.gfont||(n.gfont=this.calcTextFont(n));var i=e.fillStyle,s=a.ctm;if(a.clip){var c=Object.create(null);c.v=a.clip,o.PathPainter.paintPath(e,c),e.clip()}s&&e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),n.color&&("#000001"===e.strokeStyle?e.fillStyle=i:e.fillStyle=n.color),a.alpha&&(e.globalAlpha=a.alpha*e.globalAlpha),"#000004"===e.strokeStyle?e.font="900 "+n.gfont.replace("bold",""):e.font=n.gfont.replace("900","");var l=a.y,h=a.charX,u=a.startX,f=[];if(2==r.length&&r.charCodeAt(0)>=55296&&r.charCodeAt(0)<56320&&r.charCodeAt(1)>=56320&&r.charCodeAt(1)<57344)e.fillText(r,a.startX,l);else if(h){if(!a.parsedCharx){f.push(a.startX);for(var d=0;d<h.length;d++)if(d==h.length-1)"number"==typeof h[d]&&f.push(h[d]);else if("number"==typeof h[d+1])u=h[d],f.push(u);else{for(var p=parseInt(h[d+1].replace("g","")),v=1;v<p+1;v++)u+=h[d],f.push(u);d++}a.parsedCharx=f}if(r.length>1e3)e.fillText(r,a.startX,l);else for(var m=0;m<r.length;m++)m<r.length-1?e.fillText(r[m],a.parsedCharx[m],l,a.parsedCharx[m+1]-a.parsedCharx[m]):e.fillText(r[m],a.parsedCharx[m],l)}else e.fillText(r[0],a.startX,l);e.restore(),e.fillStyle=i}},{key:"calcTextFont",value:function(e){var t="";return e.b&&(t+="bold "),e.i&&(t+="italic "),(t+=e.size+"px ")+e.font}},{key:"paintImage",value:function(e,t,a,r){try{r=r||{};var n=a.mediaPath;if(!r.isThumbnail&&n&&!this.isMobile)return this.createMedia(e,n,a);if((a.v.match(/GIF/)||a.v.match(/gif/))&&!r.isThumbnail&&(r.c&&60*r.c.animInfo.endTime<=r.c.count||!r.c))return void this.createGif(a);var i=this.loadedImages.get(a.v);if(a.alpha&&(e.globalAlpha=a.alpha*e.globalAlpha),i){e.save();var s=a.ctm;if(a.clip){var c=Object.create(null);c.v=a.clip,o.PathPainter.paintPath(e,c),e.clip()}s&&e.transform(s[0],s[1],s[2],s[3],s[4],s[5]);var l=a.rect;a.alpha&&(e.globalAlpha=a.alpha),a.repeat?(e.fillStyle=e.createPattern(i,"repeat"),e.fillRect(l[0],l[1],l[2],l[3])):e.drawImage(i,l[0],l[1],l[2],l[3]),e.restore(),e.globalAlpha=1}}catch(e){console.error("paint image error",e)}}},{key:"paintPath",value:function(e,t,a){e.save();var r=a.ctm;if(a.clip){var n=Object.create(null);n.v=a.clip,o.PathPainter.paintPath(e,n),e.clip()}o.PathPainter.paintPath(e,a),e.lineWidth=a.lineWidth,e.lineCap=a.lineCap,a.dashArr&&e.setLineDash(a.dashArr);var i=void 0;switch(a.type){case 1:!this.isInFullScreenMode||"#000001"!==e.strokeStyle&&"#000002"!==e.strokeStyle&&"#00000b"!==e.strokeStyle?(e.strokeStyle=a.paintInfo,e.stroke()):(e.strokeStyle=e.fillStyle,e.stroke());break;case 2:!this.isInFullScreenMode||"#000001"!==e.strokeStyle&&"#000002"!==e.strokeStyle&&"#00000a"!==e.strokeStyle?(e.fillStyle=a.paintInfo,e.fill("evenodd")):e.fill("evenodd");break;case 3:e.translate(a.rect[0],a.rect[1]),(i=this.loadedImages.get(a.paintInfo))&&((i.width>a.rect[2]||i.height>a.rect[3])&&e.scale(a.rect[2]/i.width,a.rect[3]/i.height),e.strokeStyle=e.createPattern(i,"repeat"),e.stroke()),e.translate(-a.rect[0],-a.rect[1]);break;case 4:(i=this.loadedImages.get(a.paintInfo))&&(e.save(),r&&Array.isArray(a.ctm)&&6==a.ctm.length?e.transform.apply(e,v(a.ctm)):r&&(e.translate(a.rect[0],a.rect[1]),e.transform(a.ctm[0],0,0,a.ctm[1],0,0),e.translate(-a.rect[0],-a.rect[1])),e.fillStyle=e.createPattern(i,"repeat"),e.fill(),e.restore());break;case 5:(0,o.paintPathGradient1)(e,a,a.rect,a.v,"stroke");break;case 6:(0,o.paintPathGradient1)(e,a,a.rect,a.v,"fill");break;case 7:(0,o.paintPathGradient2)(e,a,a.rect,a.v,"stroke");break;case 8:(0,o.paintPathGradient2)(e,a,a.rect,a.v,"fill")}e.restore(),e.lineWidth=.5,e.setLineDash([])}},{key:"createMedia",value:function(e,t,a){try{if(!this.loadVideo){var r=(this.viewHeight/this.zoom-this.doc.pagesize.height)/2,n=this.loadedImages.get(a.v);n&&e.drawImage(n,1*a.rect[0],1*(a.rect[1]+r),1*a.rect[2],1*a.rect[3])}}catch(e){console.error("create media error",e)}}},{key:"createGif",value:function(e){var t=(this.viewHeight/this.zoom-this.doc.pagesize.height)/2,a="gif-"+this.docIndex+"-"+e.shapeID+"-"+e.rect[0]+"-"+e.rect[1],r=this.zoom,n=(0,h.getTidyResourceUrl)(this.resPrefixArr[f.lastSuccessUrlIndex],e.v),i=e.rect[2]*r,o=e.rect[3]*r,s=document.getElementById(a);this.canvasGifIdsToKeep.add(a),s?Object.assign(s.style,{left:(e.rect[0]+e.rect[2]/2)*r-i/2+"px",top:(e.rect[1]+t)*r+"px",width:i+"px",height:o+"px"}):((s=document.createElement("img")).src=n,s.id=a,s.className="canvasGif",Object.assign(s.style,{position:"absolute",left:(e.rect[0]+e.rect[2]/2)*r-i/2+"px",top:(e.rect[1]+t)*r+"px",width:i+"px",height:o+"px"}),this.canvasWrapper.append(s),e.ctm&&Object.assign(s.style,{transform:"matrix("+e.ctm[0]+","+e.ctm[1]+","+e.ctm[2]+","+e.ctm[3]+",0,0)"}))}},{key:"parsePageData",value:function(e,t){Object.assign(e,t);var a=Object.create(null),r="",n=Object.create(null),i=void 0,o=void 0,c=void 0,l=void 0;if(e.layers[1]){var h=!0,u=!1,f=void 0;try{for(var d,p=e.layers[1][Symbol.iterator]();!(h=(d=p.next()).done);h=!0){var v=d.value;switch(v.t){case s.ObjType.Text:v.charx,(i=n[v.y])?i.height<v.h&&(i.height=v.h):((i=Object.create(null)).y=v.y,i.height=v.h,i.chars=[],i.phrases=[],n[v.y]=i);var m=v.charX,y=1,g=v.startX;if(o=v.v,c=Object.create(null),o&&(c.t=o[0]),c.x=g,(l=Object.create(null)).t=v.v,l.x=g,v.hyperlinkAddress&&(c.hyperlinkAddress=v.hyperlinkAddress),c.width=this.lastCharWidth(v.h),i.chars.push(c),m){for(var b=0;b<m.length;b++)if(b==m.length-1)"number"==typeof m[b]&&(c=Object.create(null),v.hyperlinkAddress&&(c.hyperlinkAddress=v.hyperlinkAddress),c.t=o[y],c.x=m[b],c.width=this.lastCharWidth(v.h),i.chars.push(c));else if("number"==typeof m[b+1])c=Object.create(null),v.hyperlinkAddress&&(c.hyperlinkAddress=v.hyperlinkAddress),g=m[b],c.t=o[y],c.x=g,c.width=m[b+1]-m[b],i.chars.push(c),y++;else{for(var x=parseInt(m[b+1].replace("g","")),k=1;k<x+1;k++)c=Object.create(null),v.hyperlinkAddress&&(c.hyperlinkAddress=v.hyperlinkAddress),g+=m[b],c.t=o[y],c.x=g,c.width=m[b],i.chars.push(c),y++;b++}var P=m.length-1;if("number"==typeof m[P])l.width=m[P]-l.x+this.lastCharWidth(v.h);else{var T=parseInt(m[P].replace("g",""));l.width=1!==P?m[P-2]-l.x+m[P-1]*(T+1):m[P-1]*(T+1)}}else v.ctm&&v.ctm[0]&&1!==v.ctm[0]?l.width=this.lastCharWidth(v.ctm[0]*v.h):l.width=c.width;v.meta&&(l.meta=v.meta,v.meta[0]<0&&(i.type=-1)),i.phrases.push(l),r+=v.v}v.shapeID&&(a[v.shapeID]||(a[v.shapeID]=[]),a[v.shapeID].push(v))}}catch(e){u=!0,f=e}finally{try{!h&&p.return&&p.return()}finally{if(u)throw f}}var w=null,I=!1,M=void 0,S=!0,A=!1,C=void 0;try{for(var R,O=e.layers[1][Symbol.iterator]();!(S=(R=O.next()).done);S=!0){var N=R.value;N.shapeID===M&&N.hyperlinkType&&I&&w&&!N.meta&&(N.meta=w),w=N.meta,M=N.shapeID,I=0===N.hyperlinkType&&0===N.t}}catch(e){A=!0,C=e}finally{try{!S&&O.return&&O.return()}finally{if(A)throw C}}var j=[];for(var L in n){n[L].x=n[L].chars[0].x;for(var D=void 0,E=0;E<n[L].chars.length;E++)D&&(D.width=n[L].chars[E].x-D.x),D=n[L].chars[E];n[L].width=n[L].chars[n[L].chars.length-1].x-n[L].chars[0].x+n[L].chars[n[L].chars.length-1].width,j.push(n[L])}j.sort(this.yComparator),e.lines=j,e.text=r;var F=new Set,_=!0,G=!1,z=void 0;try{for(var q,U=e.animation[Symbol.iterator]();!(_=(q=U.next()).done);_=!0){var B=q.value;(K=Number(B.paraIdx))>-1&&F.add(B.shapeID)}}catch(e){G=!0,z=e}finally{try{!_&&U.return&&U.return()}finally{if(G)throw z}}for(var W in a){var H=[],Q=!0,Y=!1,X=void 0;try{for(var V,Z=e.animation[Symbol.iterator]();!(Q=(V=Z.next()).done);Q=!0){var J=V.value;if(Number(W)===J.shapeID){var K,$=a[W];if((K=Number(J.paraIdx))>=0){0===H.length&&(H=this.paraDataSolve($));var ee=H[K];ee?(J.shape=this.solveRectAimate(J.rect),J.textInfo=this.solveTextInfo(this.solveAimate(ee))):J.error=!0,J.newParaIdx=Number(J.paraIdx)+Number(this.paraIdMin)}else J.shape=this.solveRectAimate(J.rect);"{}"!==JSON.stringify(J.emphAttr)?J.direct=[J.emphIdx,J.emphAttr]:J.direct=J.animDir,Number(J.startTime)<Number(J.endTime)&&(J.endTime=Number(J.endTime)-Number(J.startTime),16===J.animIdx&&J.endTime<.5&&(J.endTime=.5)),4!==J.animType||J.error||(J.error=!0)}}}catch(e){Y=!0,X=e}finally{try{!Q&&Z.return&&Z.return()}finally{if(Y)throw X}}}for(var te=[],ae=[],re=0;re<e.animation.length;re++){var ne=e.animation[re];if(-1===Number(ne.paraIdx)&&F.has(ne.shapeID)&&(ne.skipPara=!0),ae.push(ne),re===e.animation.length-1){te.push(ae);break}var ie=e.animation[re+1];0!==ie.startCondition&&2!==ie.startCondition||(te.push(ae),ae=[])}for(var oe=te.length-1;oe>=0;oe--){for(var se=te[oe],ce=se.length-1;ce>=0;ce--){var le=se[ce];le.oldParaIdx=ce,le.error&&se.splice(ce,1)}0===se.length&&te.splice(oe,1)}e.animation=te,this.emit("animationListChange",e),this.loadPageImage(e)}}},{key:"yComparator",value:function(e,t){return e.y>t.y?1:e.y<t.y?-1:0}},{key:"calTextHeightOffset",value:function(e){return 2*Math.round(e/10)}},{key:"lastCharWidth",value:function(e){return e-1*Math.round(e/10)}},{key:"loadPageImage",value:function(e){return g(this,void 0,void 0,r.default.mark((function t(){var a,n,i,o,c,l,h,u,f,d,p,v,m,y,g,b,x,k,P;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.pageImgToDownload.get(e.index)||this.pageImgToDownload.set(e.index,[]),a=this.pageImgToDownload.get(e.index),n=!0,i=!1,o=void 0,t.prev=5,c=e.layers[Symbol.iterator]();case 7:if(n=(l=c.next()).done){t.next=47;break}h=l.value,u=!0,f=!1,d=void 0,t.prev=12,p=h[Symbol.iterator]();case 14:if(u=(v=p.next()).done){t.next=30;break}if(!(m=v.value).ref){t.next=20;break}if(m=this.doc.refById[m.ref]){t.next=20;break}return t.abrupt("continue",27);case 20:t.t0=m.t,t.next=t.t0===s.ObjType.Image?23:t.t0===s.ObjType.Path?25:27;break;case 23:return-1===a.indexOf(m.v)&&a.push(m.v),t.abrupt("break",27);case 25:return 4!==m.type&&3!==m.type||"string"!=typeof m.paintInfo||-1!==m.paintInfo.indexOf("rgb")||-1===a.indexOf(m.paintInfo)&&a.push(m.paintInfo),t.abrupt("break",27);case 27:u=!0,t.next=14;break;case 30:t.next=36;break;case 32:t.prev=32,t.t1=t.catch(12),f=!0,d=t.t1;case 36:t.prev=36,t.prev=37,!u&&p.return&&p.return();case 39:if(t.prev=39,!f){t.next=42;break}throw d;case 42:return t.finish(39);case 43:return t.finish(36);case 44:n=!0,t.next=7;break;case 47:t.next=53;break;case 49:t.prev=49,t.t2=t.catch(5),i=!0,o=t.t2;case 53:t.prev=53,t.prev=54,!n&&c.return&&c.return();case 56:if(t.prev=56,!i){t.next=59;break}throw o;case 59:return t.finish(56);case 60:return t.finish(53);case 61:if(this.pageImgToDownload.set(e.index,a.slice()),0!==a.length){t.next=66;break}this.emit("event:pptState:change","pageImgLoaded",e.index),t.next=85;break;case 66:for(y=!0,g=!1,b=void 0,t.prev=69,x=a[Symbol.iterator]();!(y=(k=x.next()).done);y=!0)P=k.value,this.loadImage(e,P);t.next=77;break;case 73:t.prev=73,t.t3=t.catch(69),g=!0,b=t.t3;case 77:t.prev=77,t.prev=78,!y&&x.return&&x.return();case 80:if(t.prev=80,!g){t.next=83;break}throw b;case 83:return t.finish(80);case 84:return t.finish(77);case 85:case"end":return t.stop()}}),t,this,[[5,49,53,61],[12,32,36,44],[37,,39,43],[54,,56,60],[69,73,77,85],[78,,80,84]])})))}},{key:"loadImage",value:function(e,t){var a=this;d.default.loadRes({type:"image",resPrefixArr:this.resPrefixArr,urlPath:t,pageIndex:e.index,docIndex:this.docIndex},{callback:function(r){var n=a.pageImgToDownload.get(e.index)||[],i=n.indexOf(t);i>-1&&n.splice(i,1),a.pageImgToDownload.set(e.index,n.slice()),0===n.length&&a.emit("event:pptState:change","pageImgLoaded",e.index),a.loadedImages.set(t,r),a.repaintPage(e)},overwriteCb:!1})}},{key:"repaintPage",value:function(e){var t=this;e.index!==this.currPageIndex||this.animationManager.isDuringAnimation()||(clearTimeout(this.repaintTimer),this.repaintTimer=setTimeout((function(){t.paint()}),100))}},{key:"fullStateListener",value:function(){this.isInFullScreenMode}},{key:"solveRectAimate",value:function(e){var t=Object.create(null);return t.textRect=Object.create(null),t.textRect.x=e[0],t.textRect.y=e[1],t.textRect.width=e[2],t.textRect.height=e[3],t.shapeRect=Object.create(null),t.shapeRect.x=e[0],t.shapeRect.y=e[1],t.shapeRect.width=e[2],t.shapeRect.height=e[3],t}},{key:"solveTextInfo",value:function(e){if(e){var t=[],a=e.textRect;return t[0]=a.x,t[1]=a.y,t[2]=a.width,t[3]=a.height,t}}},{key:"solveAimate",value:function(e){var t=void 0;if(1===e.length)t=this.solveAimateEach(e[0]);else{var a=[],r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;a.push(this.solveAimateEach(c))}}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}t=this.calAllFlyerRect(a)}if(t)return t.shapeRect&&!t.textRect?(t.textRect=Object.create(null),t.textRect.x=t.shapeRect.x,t.textRect.y=t.shapeRect.y,t.textRect.width=t.shapeRect.width,t.textRect.height=t.shapeRect.height):!t.shapeRect&&t.textRect&&(t.shapeRect=Object.create(null),t.shapeRect.x=t.textRect.x,t.shapeRect.y=t.textRect.y,t.shapeRect.width=t.textRect.width,t.shapeRect.height=t.textRect.height),t}},{key:"calAllFlyerRect",value:function(e){for(var t=this.textOrShape(e[0]),a=1;a<e.length;a++){var r=this.textOrShape(e[a]);r.x1<t.x1&&(t.x1=r.x1),r.y1<t.y1&&(t.y1=r.y1),r.x2>t.x2&&(t.x2=r.x2),r.y2>t.y2&&(t.y2=r.y2)}var n=Object.create(null);return n.shapeRect=Object.create(null),n.shapeRect.x=t.x1,n.shapeRect.y=t.y1,n.shapeRect.width=t.x2-t.x1,n.shapeRect.height=t.y2-t.y1,n}},{key:"textOrShape",value:function(e){var t=Object.create(null);return e.shapeRect&&!e.textRect?(t.x1=e.shapeRect.x,t.y1=e.shapeRect.y,t.x2=e.shapeRect.width+e.shapeRect.x,t.y2=e.shapeRect.height+e.shapeRect.y):!e.shapeRect&&e.textRect&&(t.x1=e.textRect.x,t.y1=e.textRect.y,t.x2=e.textRect.width+e.textRect.x,t.y2=e.textRect.height+e.textRect.y),t}},{key:"solveAimateEach",value:function(e){var t=void 0;switch(e.t){case s.ObjType.Text:t=this.calAnimateTextInfo(e);break;case s.ObjType.Image:t=this.calAnimateImageInfo(e);break;case s.ObjType.Path:t=this.calAnimatePathInfo(e)}return t}},{key:"calAnimatePathInfo",value:function(e){var t=Object.create(null);return t.shapeRect=Object.create(null),t.shapeRect.x=e.rect[0],t.shapeRect.y=e.rect[1],t.shapeRect.width=e.rect[2],t.shapeRect.height=e.rect[3],t}},{key:"calAnimateImageInfo",value:function(e){var t=Object.create(null);return t.shapeRect=Object.create(null),t.shapeRect.x=e.rect[0],t.shapeRect.y=e.rect[1],t.shapeRect.width=e.rect[2],t.shapeRect.height=e.rect[3],t}},{key:"calAnimateTextInfo",value:function(e){var t,a=Object.create(null),r=void 0,n=void 0;e.charx,(r=a[e.y])?r.height<e.h&&(r.height=e.h):((r=Object.create(null)).y=e.y,r.height=e.h,r.chars=[],a[e.y]=r);var i=e.charX,o=1,s=e.startX;if(t=e.v,(n=Object.create(null)).t=t[0],n.x=s,n.width=this.lastCharWidth(e.h),r.chars.push(n),i)for(var c=0;c<i.length;c++)if(c==i.length-1)"number"==typeof i[c]&&((n=Object.create(null)).t=t[o],n.x=i[c],n.width=this.lastCharWidth(e.h),r.chars.push(n));else if("number"==typeof i[c+1])n=Object.create(null),s=i[c],n.t=t[o],n.x=s,n.width=i[c+1]-i[c],r.chars.push(n),o++;else{for(var l=parseInt(i[c+1].replace("g","")),h=1;h<l+1;h++)n=Object.create(null),s+=i[c],n.t=t[o],n.x=s,n.width=i[c],r.chars.push(n),o++;c++}var u=[];for(var f in a){a[f].x=a[f].chars[0].x;for(var d=void 0,p=0;p<a[f].chars.length;p++)d&&(d.width=a[f].chars[p].x-d.x),d=a[f].chars[p];a[f].width=a[f].chars[a[f].chars.length-1].x-a[f].chars[0].x+a[f].chars[a[f].chars.length-1].width,u.push(a[f])}u.sort(this.yComparator);var v=!0,m=!1,y=void 0;try{for(var g,b=u[Symbol.iterator]();!(v=(g=b.next()).done);v=!0){var x=g.value;x.y=x.y-x.height+this.calTextHeightOffset(x.height)}}catch(e){m=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(m)throw y}}var k=Object.create(null);return k.textRect=Object.create(null),k.textRect.x=u[0].x,k.textRect.y=u[0].y,k.textRect.width=u[0].width,k.textRect.height=u[0].height,k}},{key:"paraDataSolve",value:function(e){var t={},a=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;s.meta&&(t[s.meta[2]]||(t[s.meta[2]]=[]),t[s.meta[2]].push(s))}}catch(e){r=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw n}}var c=[];for(var l in t)c.push(l);c.sort((function(e,t){return e-t}));for(var h=this.paraIdMin=Number(c[0]),u=[],f=0;f<c.length;f++)u[Number(c[f])-h]=t[c[f]];return u}},{key:"docWidth",get:function(){return this.doc&&this.doc.pagesize&&this.doc.pagesize.width||100}},{key:"docHeight",get:function(){return this.doc&&this.doc.pagesize&&this.doc.pagesize.height||100}},{key:"isInFullScreenMode",get:function(){return document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1}},{key:"currPage",get:function(){return this.doc&&this.doc.pages?this.doc.pages[this.currPageIndex]:void 0}}]),t}(i.default)).loadedFonts=new Set},310:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastSuccessUrlIndex=void 0;var r,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=(r=a(559))&&r.__esModule?r:{default:r},o=a(357),s=t.lastSuccessUrlIndex=0,c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.env={activeDoc:-1,activePage:-1},this.resTable=new Map,this.maxConcurrentDownload=4,this.minRetryInterval=1e3,this.maxRetryCount=5,this.loadedFonts=[]}return n(e,[{key:"stopDownloadResourceOfDoc",value:function(e){var t=[];this.resTable.forEach((function(a,r){a.docIndex===e&&t.push(r)}));var a=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;this.resTable.delete(s)}}catch(e){r=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw n}}}},{key:"setEnvironment",value:function(e){this.env=e,this.checkResourceTask()}},{key:"loadRes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.hasResource(e)){var a=this.getKeyFromResource(e),r=this.resTable.get(a);this.updateResource(e,t),"fetched"===r.state&&this.onResLoaded(r)}else this.addNewResource(e,t.callback)}},{key:"getKeyFromResource",value:function(e){return e.urlPath+"_"+e.docIndex}},{key:"resourcePriority",value:function(e,t){if(!e)return 1;if(!t)return-1;var a=this.getResourcePriorityRate(e),r=this.getResourcePriorityRate(t);return a>r?-1:a<r?1:0}},{key:"getResourcePriorityRate",value:function(e){var t=e.docIndex===this.env.activeDoc,a=e.docIndex===this.env.activeDoc&&-1!==e.pageIndexArr.indexOf(this.env.activePage),r=0;if(t&&e.pageIndexArr.length>0){r=999;var n=!0,i=!1,o=void 0;try{for(var s,c=e.pageIndexArr[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;r=Math.min(r,Math.abs(l-this.env.activePage))}}catch(e){i=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}}var h=0;if(t&&e.pageIndexArr.length>0){h=999;var u=!0,f=!1,d=void 0;try{for(var p,v=e.pageIndexArr[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var m=p.value;h=Math.min(h,m)}}catch(e){f=!0,d=e}finally{try{!u&&v.return&&v.return()}finally{if(f)throw d}}}return("summaryJson"===e.type?1e6:0)+(t?1e5:0)+(a?1e4:0)+("pageJson"===e.type?1e3:0)-10*r+h}},{key:"hasResource",value:function(e){var t=this.getKeyFromResource(e);return this.resTable.has(t)}},{key:"addNewResource",value:function(e,t){var a=this.getKeyFromResource(e),r=[];t&&r.push(t);var n=[e.pageIndex];this.resTable.set(a,Object.assign(Object.assign({},e),{currDomainIndex:void 0,pageIndexArr:n,callbacks:r,result:null,state:"toFetch",errorCount:0,lastFailAt:0})),this.checkResourceTask()}},{key:"updateResource",value:function(e,t){var a=this.getKeyFromResource(e),r=this.resTable.get(a);if(!r)return this.addNewResource(e,t.callback);var n=r.pageIndexArr.slice();-1===n.indexOf(e.pageIndex)&&n.push(e.pageIndex);var i=r.callbacks.slice();t.overwriteCb&&t.callback?i=[t.callback]:t.callback&&i.push(t.callback),Object.assign(r,{pageIndexArr:n,callbacks:i}),this.resTable.set(a,r),this.checkResourceTask()}},{key:"checkResourceTask",value:function(){var e=this;clearTimeout(this.checkTaskTimer),this.checkTaskTimer=setTimeout((function(){e._checkResourceTask()}),0)}},{key:"_checkResourceTask",value:function(){for(var e=this,t=this.resToFetch.sort((function(t,a){return e.resourcePriority(e.resTable.get(t),e.resTable.get(a))})),a=5e3,r=this.resFetching.length;r<this.maxConcurrentDownload&&0!==t.length;r++)for(var n=0;n<t.length;n++){var i=t[n],o=this.resTable.get(i),s=o.lastFailAt;if(0!==s){var c=Date.now(),l=this.minRetryInterval*o.errorCount;if(c-s<l){a=Math.max(1e3,Math.min(a,l-(c-s)));continue}}var h=t.shift();this.downloadRes(this.resTable.get(h));break}t.length>0&&setTimeout((function(){e.checkResourceTask()}),a)}},{key:"downloadRes",value:function(e){var a=this,r=this;if(e.state="fetching",void 0===e.currDomainIndex&&(e.currDomainIndex=s),"pageJson"===e.type||"summaryJson"===e.type)i.default.get(this.getResourceUrl(e),{timeout:1e4}).then((function(r){t.lastSuccessUrlIndex=s=e.currDomainIndex||0;var n=a.getKeyFromResource(e),i=a.resFetching.indexOf(n);i>-1&&a.resFetching.splice(i,1),e.state="fetched",e.result=r.data,a.onResLoaded(e),a.checkResourceTask()})).catch((function(t){return e.errorCount=e.errorCount+1,e.errorCount>=1&&(e.currDomainIndex=((e.currDomainIndex||0)+1)%e.resPrefixArr.length),e.errorCount>=r.maxRetryCount?e.state="failed":e.state="toFetch",e.lastFailAt=Date.now(),r.checkResourceTask(),Promise.reject(t)}));else if("image"===e.type){var n=new Image,o=void 0,c=function(){clearTimeout(o),e.errorCount=e.errorCount+1,e.errorCount>=1&&(e.currDomainIndex=((e.currDomainIndex||0)+1)%e.resPrefixArr.length),e.errorCount>=r.maxRetryCount?e.state="failed":e.state="toFetch",e.lastFailAt=Date.now(),a.checkResourceTask()};o=setTimeout((function(){c()}),1e4),n.onload=function(){clearTimeout(o),t.lastSuccessUrlIndex=s=e.currDomainIndex||0,n.complete&&n.width>0&&n.height>0?(e.result=n,e.state="fetched",a.onResLoaded(e)):(e.errorCount=e.errorCount+1,e.errorCount>=r.maxRetryCount?e.state="failed":e.state="toFetch",e.lastFailAt=Date.now()),a.checkResourceTask()},n.onerror=c,n.src=this.getResourceUrl(e),n.crossOrigin="anonymous"}else if("font"===e.type){e.state="fetched";var l=e.payload.fontName;if(!l)return console.error("字体下载路径或者字体名字未提供",l);try{if(-1===this.loadedFonts.indexOf(l)){this.loadedFonts.push(l);var h=e.urlPath,u=document.createElement("style");u.setAttribute("type","text/css"),u.appendChild(document.createTextNode("@font-face {\n  font-family: "+l+";\n  src: "+h+";\n}\n")),document.head.appendChild(u),this.onResLoaded(e)}}catch(e){console.error("字体加载异常",e)}}}},{key:"getResourceUrl",value:function(e){var t=e.resPrefixArr[e.currDomainIndex||0],a=e.urlPath;return(0,o.getTidyResourceUrl)(t,a)}},{key:"onResLoaded",value:function(e){if(Array.isArray(e.callbacks)){var t=!0,a=!1,r=void 0;try{for(var n,i=e.callbacks[Symbol.iterator]();!(t=(n=i.next()).done);t=!0)(0,n.value)(e.result)}catch(e){a=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw r}}}e.callbacks=[]}},{key:"resToFetch",get:function(){var e=[];return this.resTable.forEach((function(t,a){"toFetch"===t.state&&e.push(a)})),e}},{key:"resFetching",get:function(){var e=[];return this.resTable.forEach((function(t,a){"fetching"===t.state&&e.push(a)})),e}}]),e}());t.default=c},357:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCanvas=function(e,t){var a=document.createElement("canvas");return a.width=2*e,a.height=2*t,a.getContext("2d").setTransform(2,0,0,2,0,0),a.style.width=e+"px",a.style.height=t+"px",a},t.throttle=function(e,t,a){t||(t=250);var r=void 0,n=void 0;return function(){var i=a||this,o=+new Date,s=arguments;r&&o<r+t?(clearTimeout(n),n=setTimeout((function(){r=o,e.apply(i,s)}),t)):(r=o,e.apply(i,s))}};var a=t.removeElement=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)};t.removeElementsByTagName=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Array.prototype.slice.apply(document.getElementsByTagName(e));if(r.length>0&&t)setTimeout((function(){for(var e=0;e<r.length;e++)a(r[e])}),0);else if(r.length>0)for(var n=0;n<r.length;n++)a(r[n])},t.removeElementsByClassName=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Array.prototype.slice.apply(document.getElementsByClassName(e));if(r.length>0&&t)setTimeout((function(){for(var e=0;e<r.length;e++)a(r[e])}),0);else if(r.length>0)for(var n=0;n<r.length;n++)a(r[n])},t.removeElementsByClassNameAndExcludeCertainIds=function(e,t){for(var r=Array.prototype.slice.apply(document.getElementsByClassName(e)),n=0;n<r.length;n++)r[n].id&&(t.has(Number(r[n].id))||t.has(r[n].id.toString()))||a(r[n])},t.parseUrl=function(e){var t=e.lastIndexOf("/"),a=e.substring(t+1);return-1!==a.indexOf(".json")||-1!==a.indexOf(".jpg")||-1!==a.indexOf(".png")||-1!==a.indexOf(".jpeg")?{resPrefix:e.substring(0,t),res:a}:{resPrefix:e,res:""}},t.getTidyResourceUrl=function(e,t){return e.endsWith("/")&&(e=e.slice(0,e.length-1)),t.startsWith("/")&&(t=t.slice(1)),e+"/"+t}},233:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WpConst={pgLeftpanel:249,VScrollerWidth:17,PageGap:10},t.ObjType={Text:0,Image:1,Path:2}},13:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgwIiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDQ4MCAzNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0wIDBINDgwVjM2MEgwVjBaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ3OCAySDJWMzU4SDQ3OFYyWk0wIDBWMzYwSDQ4MFYwSDBaIiBmaWxsPSIjRDlEOURCIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTY2LjI5NCAxMjZIMzE1TDMxNSAxODkuMzg2TDI5NS4wNDkgMTY3LjY0QzI5MS4xNDQgMTYzLjM4NCAyODQuNDU2IDE2My4zMTEgMjgwLjQ2IDE2Ny40ODNMMjM4Ljc5MiAyMTAuOTc3TDIxOS45MTcgMTkxLjU3MkMyMTYuNzg0IDE4OC4zNTEgMjExLjYxMyAxODguMzQxIDIwOC40NjggMTkxLjU1MUwxNjcuMzM4IDIzMy41MjlIMTY2LjI5NEwxNjYuMjk0IDEyNlpNMTY2LjI5NCAyNDEuNTI5QzE2NC40NzggMjQxLjUyOSAxNjIuODAzIDI0MC45MjQgMTYxLjQ2IDIzOS45MDRIMTYxLjA5MkwxNjEuMjUyIDIzOS43NDFDMTU5LjQ0NyAyMzguMjc0IDE1OC4yOTQgMjM2LjAzNiAxNTguMjk0IDIzMy41MjlWMTI2QzE1OC4yOTQgMTIxLjU4MiAxNjEuODc2IDExOCAxNjYuMjk0IDExOEgzMTVDMzE5LjQxOCAxMTggMzIzIDEyMS41ODIgMzIzIDEyNlYyMzMuNTI5QzMyMyAyMzcuOTQ4IDMxOS40MTggMjQxLjUyOSAzMTUgMjQxLjUyOUgxNjYuMjk0Wk0yMDEgMTcxLjgwNEMyMDkuMjg0IDE3MS44MDQgMjE2IDE2NS4wODggMjE2IDE1Ni44MDRDMjE2IDE0OC41MiAyMDkuMjg0IDE0MS44MDQgMjAxIDE0MS44MDRDMTkyLjcxNiAxNDEuODA0IDE4NiAxNDguNTIgMTg2IDE1Ni44MDRDMTg2IDE2NS4wODggMTkyLjcxNiAxNzEuODA0IDIwMSAxNzEuODA0WiIgZmlsbD0iI0U2RTdFQiIvPgo8L3N2Zz4K"}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,a),i.loaded=!0,i.exports}a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var r={};return function(){"use strict";var e=r,t=a(678);e.default=t.PgReader}(),r.default}()}));
//# sourceMappingURL=pptRenderer.js.map

/** 
 Git Hash: 1face774e7f15bde0676cfa62b0f3020587f1e4e
 Create At: 8/24/2022, 6:59:39 PM
*/
